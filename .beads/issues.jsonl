{"id":"raindrop-cli-spike-1","title":"CLI Guidelines Compliance (clig.dev)","description":"Implement recommendations from https://clig.dev/ to ensure rdcli follows modern CLI best practices. These guidelines cover human-first design, output handling, error handling, interactivity, and robustness.","status":"open","priority":1,"issue_type":"epic","created_at":"2026-01-02T13:45:47.005293748-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:45:52.432034841-08:00","dependencies":[{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-3","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-6","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-7","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-8","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-9","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-10","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-11","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-12","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-13","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-14","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-1","depends_on_id":"raindrop-cli-spike-15","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"raindrop-cli-spike-10","title":"Add --force flag for destructive operations","description":"Per clig.dev: 'Confirm before doing anything dangerous... requiring them to pass -f or --force'\n\nFor delete and batch operations, require confirmation or --force flag.\n\nImplementation:\n- Add -f/--force flag to: delete, batch-delete, batch-update\n- Without --force: prompt 'Are you sure? (y/N)'\n- With --force: skip confirmation\n- If stdin is not TTY and no --force: error with helpful message\n- For severe operations (batch-delete), consider requiring --force=\u003ccount\u003e\n\nApplies to:\n- rd-nfd (Delete Raindrop Command) - already mentions --force\n- rd-ntf (Batch Operations Commands) - already mentions --force","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T13:47:10.809905559-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:10.809905559-08:00","dependencies":[{"issue_id":"raindrop-cli-spike-10","depends_on_id":"raindrop-cli-spike-13","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"raindrop-cli-spike-11","title":"Add --dry-run flag for destructive operations","description":"Per clig.dev: 'Consider giving the user a way to dry run the operation so they can see what'll happen before they commit to it.'\n\nShow what WOULD happen without actually doing it.\n\nImplementation:\n- Add -n/--dry-run flag to: delete, update, batch-delete, batch-update\n- Output what would be changed/deleted\n- Exit with success (0) after showing preview\n- Make output clear it's a dry run: 'Would delete 5 raindrops:'\n\nExample:\n```\n$ rdcli raindrops batch-delete --ids 1,2,3 --dry-run\nWould delete 3 raindrops:\n  - 1: 'Article about TypeScript'\n  - 2: 'React hooks tutorial'  \n  - 3: 'CLI design patterns'\nRun without --dry-run to execute.\n```","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:47:19.620786971-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:19.620786971-08:00"}
{"id":"raindrop-cli-spike-12","title":"Add typo suggestions for commands","description":"Per clig.dev: 'If the user did something wrong and you can guess what they meant, suggest it.'\n\nExample:\n```\n$ rdcli raindrop list\nUnknown command: raindrop\nDid you mean: raindrops?\n```\n\nImplementation:\n- Use Levenshtein distance or similar for fuzzy matching\n- Commander may have built-in support for this\n- Suggest closest match if distance \u003c threshold\n- Don't auto-execute - just suggest\n\nLower priority - nice to have for polish.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T13:47:28.533043768-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:28.533043768-08:00"}
{"id":"raindrop-cli-spike-13","title":"Add --no-input flag for non-interactive mode","description":"Per clig.dev: 'If --no-input is passed, don't prompt or do anything interactive. This allows users an explicit way to disable all prompts.'\n\nImplementation:\n- Add global --no-input flag\n- Support RDCLI_NO_INPUT env var (for CI/scripts)\n- When set: never prompt, fail if input required\n- Error message should explain which flag to pass instead\n\nExample:\n```\n$ rdcli raindrops delete 123 --no-input\nError: Confirmation required. Use --force to skip confirmation in non-interactive mode.\n```","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:47:36.860849321-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:36.860849321-08:00"}
{"id":"raindrop-cli-spike-14","title":"Add shell completions","description":"Per clig.dev (ease of discovery): Help users discover commands and options.\n\nGenerate shell completions for bash, zsh, fish.\n\nImplementation:\n- Add 'rdcli completion \u003cshell\u003e' command\n- Commander has built-in completion support or use 'omelette'\n- Output completion script to stdout\n- Users install via: rdcli completion bash \u003e\u003e ~/.bashrc\n\nCompletions should include:\n- Subcommands (auth, raindrops, collections, etc.)\n- Flags for each command\n- Optionally: collection IDs, tag names (requires API call)\n\nLower priority but significantly improves discoverability.","status":"open","priority":3,"issue_type":"task","created_at":"2026-01-02T13:47:44.814853524-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:44.814853524-08:00"}
{"id":"raindrop-cli-spike-15","title":"Improve error messages with actionable hints","description":"Per clig.dev: 'Catch errors and rewrite them for humans. Think of it like a conversation where the program is guiding them in the right direction.'\n\nMake error messages helpful and actionable.\n\nExamples:\n- 'Can't connect to Raindrop API. Check your internet connection or try again later.'\n- 'Invalid collection ID: \"abc\". Collection IDs must be numbers. Use \"rdcli collections list\" to see available collections.'\n- 'Rate limited by Raindrop API. Wait 60 seconds before retrying.'\n\nImplementation:\n- Create error handler that catches known error types\n- Map API errors to friendly messages\n- Include 'what to do next' in error messages\n- Put most important info at end (per clig.dev)\n- Consider exit codes: 1=error, 2=usage error","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T13:47:54.375168847-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:54.375168847-08:00","dependencies":[{"issue_id":"raindrop-cli-spike-15","depends_on_id":"raindrop-cli-spike-5","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"raindrop-cli-spike-2","title":"Ensure stdout/stderr separation","description":"Architectural: Ensure data output goes to stdout and errors/warnings go to stderr.\n\nPer clig.dev:\n- 'Send output to stdout' - primary output and machine-readable data\n- 'Send messaging to stderr' - log messages, errors, warnings\n\nThis enables proper piping (e.g., `rdcli raindrops list | jq` won't break from error messages).\n\nImplementation:\n- Audit all console.log() calls - data should use stdout\n- Audit all console.error() calls - errors/warnings should use stderr  \n- Update output() function to explicitly write to process.stdout\n- Ensure error handling writes to process.stderr\n\nShould be done BEFORE adding more commands to avoid tech debt.","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-02T13:46:02.314281255-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:02.314281255-08:00"}
{"id":"raindrop-cli-spike-3","title":"Add NO_COLOR and --no-color support","description":"Add color disable support before adding any colored output.\n\nPer clig.dev, disable colors when:\n- stdout/stderr is not a TTY\n- NO_COLOR env var is set (any non-empty value)\n- TERM=dumb\n- --no-color flag is passed\n- Optionally: RDCLI_NO_COLOR env var for app-specific control\n\nImplementation:\n- Add --no-color global flag\n- Check NO_COLOR and TERM env vars\n- Create utility: shouldUseColor(): boolean\n- Wire into output system before any colors are added\n\nReference: https://no-color.org/","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-02T13:46:10.521021075-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:10.521021075-08:00","dependencies":[{"issue_id":"raindrop-cli-spike-3","depends_on_id":"raindrop-cli-spike-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"raindrop-cli-spike-4","title":"Add TTY detection for smart output defaults","description":"Detect TTY to provide better defaults for human vs script usage.\n\nPer clig.dev:\n- 'Human-readable output is paramount'\n- 'The most simple heuristic for whether output is being read by a human is whether or not it's a TTY'\n\nImplementation:\n- Use process.stdout.isTTY / process.stderr.isTTY\n- Default --format to 'table' when TTY, 'json' when piped\n- Disable animations/progress when not TTY\n- Create utility: isTTY(): boolean\n\nThis improves UX significantly:\n- `rdcli raindrops list` → nice table for humans\n- `rdcli raindrops list | jq` → JSON automatically","status":"open","priority":0,"issue_type":"task","created_at":"2026-01-02T13:46:18.798627229-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:18.798627229-08:00"}
{"id":"raindrop-cli-spike-5","title":"Clarify --verbose vs --debug flags","description":"Clarify the distinction between verbose and debug output.\n\nPer clig.dev:\n- '--debug' typically shows stack traces and internal state\n- '--verbose' shows more operational detail (what's happening)\n- '-v' can mean either verbose or version (avoid confusion)\n\nCurrent state: We have --verbose but usage is unclear.\n\nOptions:\n1. Keep --verbose for operational detail, add --debug for stack traces\n2. Use --verbose for both (simpler)\n\nRecommendation: Add --debug flag for stack traces on errors, keep --verbose for 'what am I doing' output.\n\nImplementation:\n- Add -d/--debug global flag\n- On error: show stack trace only if --debug\n- --verbose: show API calls being made, timing info\n- Update error handling in utils/errors.ts","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T13:46:28.704243781-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:28.704243781-08:00"}
{"id":"raindrop-cli-spike-6","title":"Add support path to help text","description":"Per clig.dev: 'Provide a support path for feedback and issues'\n\nAdd GitHub issues link to help output. Users should easily find where to report bugs or request features.\n\nImplementation:\n- Add to main help text: 'Report issues: https://github.com/crcatala/raindrop-cli-spike/issues'\n- Consider adding to error messages for unexpected errors\n- Could also link to docs when we have them","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:46:35.999040801-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:35.999040801-08:00"}
{"id":"raindrop-cli-spike-7","title":"Add progress indicators for API calls","description":"Per clig.dev:\n- 'Responsive is more important than fast - print something in \u003c100ms'\n- 'Show progress if something takes a long time'\n- 'If your program displays no output for a while, it will look broken'\n\nRaindrop API calls can be slow. Show the user something is happening.\n\nImplementation:\n- Add spinner for operations \u003e100ms\n- Use a library like 'ora' or 'cli-spinners'\n- Disable spinner when not TTY (per guidelines)\n- Show what's happening: 'Fetching raindrops...'\n- For batch operations, consider progress bar\n\nNote: Keep output clean - spinner should write to stderr so stdout remains pipeable.","status":"open","priority":1,"issue_type":"task","created_at":"2026-01-02T13:46:44.721864474-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:44.721864474-08:00","dependencies":[{"issue_id":"raindrop-cli-spike-7","depends_on_id":"raindrop-cli-spike-4","type":"blocks","created_at":"0001-01-01T00:00:00Z"},{"issue_id":"raindrop-cli-spike-7","depends_on_id":"raindrop-cli-spike-2","type":"blocks","created_at":"0001-01-01T00:00:00Z"}]}
{"id":"raindrop-cli-spike-8","title":"Add --timeout flag for network operations","description":"Per clig.dev: 'Make things time out. Allow network timeouts to be configured, and have a reasonable default so it doesn't hang forever.'\n\nImplementation:\n- Add global --timeout \u003cseconds\u003e flag\n- Default to reasonable value (30s?)\n- Support RDCLI_TIMEOUT env var\n- Apply to all API calls via client wrapper\n- Show helpful error when timeout occurs","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:46:51.700457588-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:46:51.700457588-08:00"}
{"id":"raindrop-cli-spike-9","title":"Add usage examples to help text","description":"Per clig.dev: 'Lead with examples. Users tend to use examples over other forms of documentation.'\n\nAdd concrete examples to each command's help text.\n\nExample for 'raindrops list':\n```\nExamples:\n  rdcli raindrops list                    # List all raindrops\n  rdcli raindrops list 12345              # List raindrops in collection\n  rdcli raindrops list -1                 # List unsorted raindrops\n  rdcli raindrops list --limit 50         # Limit results\n  rdcli raindrops list | jq '.[].title'   # Pipe to jq\n```\n\nImplementation:\n- Add .addHelpText('after', examples) to each command\n- Show common use cases first\n- Include piping examples for AI agent users\n- Consider a separate 'examples' command for extensive examples","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-02T13:47:01.806792661-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:47:01.806792661-08:00"}
