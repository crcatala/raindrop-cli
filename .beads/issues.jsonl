{"id":"rd-0pc","title":"2.6 Search Raindrops Command","description":"rdcli raindrops search \u003cquery\u003e with --collection, --type, --tag, --created-after/before, --important, --broken, --limit, --format\n\n---\n\n## SUPERSEDED BY rd-y81\n\nThis issue proposed a separate `search` subcommand, but after analysis we decided to enhance the existing `bookmarks list` command with convenience filter flags instead (rd-y81).\n\n**Rationale:**\n1. `bookmarks list` already has `--search` flag - a separate command creates confusion\n2. Mirrors Raindrop web UI where filtering is applied to the list view, not a separate mode\n3. Single command to learn - all filtering options discoverable via `--help`\n4. Follows CLI conventions (kubectl, docker, gh all use filters on list commands)\n5. Composable: `--type article --tag javascript --search \"query\"` all work together\n\nSee rd-y81 for the implementation approach.","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:22.751588951-08:00","updated_at":"2026-01-03T18:40:51.936865259-08:00","closed_at":"2026-01-03T18:26:08.029263612-08:00","dependencies":[{"issue_id":"rd-0pc","depends_on_id":"rd-abh","type":"blocks","created_at":"2025-12-22T13:57:39.286229503-08:00","created_by":"daemon"}]}
{"id":"rd-1hp","title":"Add --force flag for destructive operations","description":"Per clig.dev: 'Confirm before doing anything dangerous... requiring them to pass -f or --force'\n\nFor delete and batch operations, require confirmation or --force flag.\n\nImplementation:\n- Add -f/--force flag to: delete, batch-delete, batch-update\n- Without --force: prompt 'Are you sure? (y/N)'\n- With --force: skip confirmation\n- If stdin is not TTY and no --force: error with helpful message\n- For severe operations (batch-delete), consider requiring --force=\u003ccount\u003e\n\nApplies to:\n- rd-nfd (Delete Raindrop Command) - already mentions --force\n- rd-ntf (Batch Operations Commands) - already mentions --force","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T13:53:17.01158922-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:33:31.62791241-08:00","closed_at":"2026-01-05T12:13:39.151975939-08:00","dependencies":[{"issue_id":"rd-1hp","depends_on_id":"rd-1vc","type":"blocks","created_at":"2026-01-02T13:54:09.029782311-08:00","created_by":"unknown"}]}
{"id":"rd-1kg","title":"Add shell completions","description":"Per clig.dev (ease of discovery): Help users discover commands and options.\n\nGenerate shell completions for bash, zsh, fish.\n\nImplementation:\n- Add 'rdcli completion \u003cshell\u003e' command\n- Commander has built-in completion support or use 'omelette'\n- Output completion script to stdout\n- Users install via: rdcli completion bash \u003e\u003e ~/.bashrc\n\nCompletions should include:\n- Subcommands (auth, raindrops, collections, etc.)\n- Flags for each command\n- Optionally: collection IDs, tag names (requires API call)\n\nLower priority but significantly improves discoverability.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:53:52.304139066-08:00","created_by":"cc-vps","updated_at":"2026-01-06T06:56:52.654849464-08:00","closed_at":"2026-01-06T04:57:29.360047392-08:00"}
{"id":"rd-1vc","title":"Add --no-input flag for non-interactive mode","description":"Per clig.dev: 'If --no-input is passed, don't prompt or do anything interactive. This allows users an explicit way to disable all prompts.'\n\nImplementation:\n- Add global --no-input flag\n- Support RDCLI_NO_INPUT env var (for CI/scripts)\n- When set: never prompt, fail if input required\n- Error message should explain which flag to pass instead\n\nExample:\n```\n$ rdcli raindrops delete 123 --no-input\nError: Confirmation required. Use --force to skip confirmation in non-interactive mode.\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:53:41.131527993-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:33:31.634009476-08:00","closed_at":"2026-01-05T12:08:42.564699448-08:00"}
{"id":"rd-20r","title":"Add --parent option to collections create command","description":"Add a `--parent \u003cid\u003e` option to the `collections create` command to allow creating nested collections.\n\n## Current Behavior\n```bash\nrdcli collections create \"My Collection\"  # Always creates at root level\n```\n\n## Proposed Behavior\n```bash\nrdcli collections create \"My Collection\"                    # Root level (default)\nrdcli collections create \"Sub Collection\" --parent 12345    # Nested under parent\n```\n\n## Implementation Notes\n- The Raindrop API already supports this via `parent` field in `CreateCollectionRequest`\n- Should validate that parent ID exists before attempting creation\n\n## Related\n- Follow-up from rd-671 (collections subcommand)\n- Suggested in code review","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-03T19:30:55.402751594-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:33:31.636356203-08:00","closed_at":"2026-01-05T12:11:22.535277925-08:00","dependencies":[{"issue_id":"rd-20r","depends_on_id":"rd-671","type":"blocks","created_at":"2026-01-03T19:31:16.447747197-08:00","created_by":"unknown"}]}
{"id":"rd-26d","title":"Add OSS/npm release readiness planning doc","description":"Add a maintainer-facing release readiness guide covering npm packaging surface, CI security, docs alignment, and versioning.\\n\\nOutput: plans/oss-release-readiness.md","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-06T16:39:45.60053393-08:00","created_by":"cc-vps","updated_at":"2026-01-06T16:39:55.151517929-08:00","closed_at":"2026-01-06T16:39:55.151517929-08:00","close_reason":"Added plans/oss-release-readiness.md"}
{"id":"rd-2pf","title":"test prefix","status":"tombstone","priority":4,"issue_type":"task","created_at":"2025-12-22T13:24:55.896235451-08:00","updated_at":"2025-12-22T13:27:59.981024504-08:00","deleted_at":"2025-12-22T13:27:59.981024504-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"rd-2q3","title":"Add usage examples to help text","description":"Per clig.dev: 'Lead with examples. Users tend to use examples over other forms of documentation.'\n\nAdd concrete examples to each command's help text.\n\nExample for 'raindrops list':\n```\nExamples:\n  rdcli raindrops list                    # List all raindrops\n  rdcli raindrops list 12345              # List raindrops in collection\n  rdcli raindrops list -1                 # List unsorted raindrops\n  rdcli raindrops list --limit 50         # Limit results\n  rdcli raindrops list | jq '.[].title'   # Pipe to jq\n```\n\nImplementation:\n- Add .addHelpText('after', examples) to each command\n- Show common use cases first\n- Include piping examples for AI agent users\n- Consider a separate 'examples' command for extensive examples","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:53:41.042931633-08:00","created_by":"cc-vps","updated_at":"2026-01-05T17:18:32.974111152-08:00","closed_at":"2026-01-05T17:18:32.974111152-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-2q3","depends_on_id":"rd-wmz","type":"relates-to","created_at":"2026-01-03T18:08:58.162581703-08:00","created_by":"unknown"}]}
{"id":"rd-2qx","title":"0.4 Build Configuration","description":"Configure tsup for CJS+ESM, add bin field to package.json, setup npm scripts (build/dev/test/lint), add shebang","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:30.508121197-08:00","updated_at":"2025-12-22T14:36:05.62553292-08:00","closed_at":"2025-12-22T14:36:05.62553292-08:00","dependencies":[{"issue_id":"rd-2qx","depends_on_id":"rd-8g2","type":"blocks","created_at":"2025-12-22T13:57:05.749720447-08:00","created_by":"daemon"}]}
{"id":"rd-3xt","title":"verify rd prefix","status":"closed","priority":4,"issue_type":"task","created_at":"2025-12-22T13:28:09.390773325-08:00","updated_at":"2025-12-22T13:28:17.521427152-08:00","closed_at":"2025-12-22T13:28:17.521427152-08:00"}
{"id":"rd-4c7","title":"1.4 Error Handling","description":"Catch API errors and format nicely, show rate limit info, exit codes (0=success, 1=error, 2=usage error), --debug for stack traces","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:52.366266226-08:00","updated_at":"2026-01-03T07:56:00.109751462-08:00","closed_at":"2026-01-03T07:54:35.570217886-08:00","dependencies":[{"issue_id":"rd-4c7","depends_on_id":"rd-qy8","type":"blocks","created_at":"2025-12-22T13:57:17.357946566-08:00","created_by":"daemon"}]}
{"id":"rd-4pm","title":"Add automated test infrastructure for CLI","description":"Set up proper testing infrastructure for the CLI.\n\n## Context\nCurrently we only have manual test scripts (e.g., scripts/test-tty.sh). We need automated tests before implementing more CLI commands.\n\n## Test Runner\nBun test is already configured - just need to add test files.\n\n## Priority Areas (in order)\n\n### 1. Unit tests for formatters (highest value, easiest)\n- `src/output/json.ts`, `table.ts`, `tsv.ts` - pure functions\n- `src/utils/output-streams.ts` - mock process.stdout/stderr.write\n- Example: verify formatTable produces correct output for given data\n\n### 2. Integration tests for stream separation\n- Spawn CLI as subprocess with `Bun.spawn()`\n- Capture stdout/stderr separately\n- Verify JSON goes to stdout, messages to stderr\n- Test exit codes for error scenarios\n\n### 3. Unit tests for config/errors\n- `src/config.ts` - mock fs operations, test precedence\n- `src/utils/errors.ts` - verify error formatting\n\n## Challenges\n- TTY detection tests are tricky because test runners affect TTY state\n- For TTY tests: mock process.stdout.isTTY or use child_process with pty\n\n## Related\n- Created during rd-vst (TTY detection) implementation\n- Manual test script exists at scripts/test-tty.sh as reference\n- rd-u3p (stdout/stderr separation) would benefit from integration tests","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T16:54:34.137346757-08:00","created_by":"cc-vps","updated_at":"2026-01-03T06:11:26.788461413-08:00","closed_at":"2026-01-02T21:44:49.217796871-08:00"}
{"id":"rd-4x1","title":"1.3 Output System","description":"Global --format flag (json/table/tsv), default to json, TTY detection for defaults, --quiet for minimal output, --verbose for debug","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:51.249128025-08:00","updated_at":"2026-01-03T07:56:00.116979753-08:00","closed_at":"2026-01-03T06:32:10.932659296-08:00","dependencies":[{"issue_id":"rd-4x1","depends_on_id":"rd-2qx","type":"blocks","created_at":"2025-12-22T13:57:15.574578561-08:00","created_by":"daemon"}]}
{"id":"rd-4y5","title":"CLI Guidelines Alignment","description":"Adhere to https://clig.dev/ guidelines to ensure a robust and standard CLI experience.\n\n## Scope\n1. **XDG Compliance:** \n   - Update `src/config.ts` to respect `XDG_CONFIG_HOME` environment variable.\n   - Fallback to `~/.config` only if unset.\n\n2. **Robust Input (TTY Checks):**\n   - Update `src/commands/auth.ts` `prompt()` function.\n   - Check `process.stdin.isTTY`.\n   - If not TTY and input is required/missing, fail gracefully with a clear error message instead of hanging or erroring on readline.\n\n3. **Stream Hygiene (Stdout vs Stderr):**\n   - Audit existing `console.log` usage.\n   - Ensure \"chatty\" informational messages (e.g., \"Validating token...\", \"Token saved\") are sent to `stderr`.\n   - Reserve `stdout` strictly for the requested data output (JSON, Tables, TSV) to facilitate piping.\n\n4. **Progress Indicators:**\n   - Add simple spinners (e.g., using `ora` or simple stderr animations) for network-blocking operations like token validation.\n\n## References\n- https://clig.dev/\n- Existing issue `rd-4x1` covers the Output System framework, but this issue focuses on specific compliance details.","status":"tombstone","priority":1,"issue_type":"task","created_at":"2026-01-02T12:40:12.627003766-08:00","created_by":"cc-vps","updated_at":"2026-01-02T13:32:23.302450328-08:00","deleted_at":"2026-01-02T13:32:23.302450328-08:00","deleted_by":"daemon","delete_reason":"delete","original_type":"task"}
{"id":"rd-5f3","title":"1.1 Configuration Management","description":"Load RAINDROP_TOKEN from env, support config file (~/.config/raindrop-cli/config.json), config precedence (CLI\u003eenv\u003efile), validate token, helpful error messages","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:48.957515408-08:00","updated_at":"2025-12-22T19:48:16.816570696-08:00","closed_at":"2025-12-22T19:48:16.816570696-08:00","dependencies":[{"issue_id":"rd-5f3","depends_on_id":"rd-2qx","type":"blocks","created_at":"2025-12-22T13:57:13.81277824-08:00","created_by":"daemon"}]}
{"id":"rd-671","title":"Add collections subcommand","description":"Add a `collections` subcommand for managing Raindrop.io collections.\n\n## Proposed Commands\n\n```bash\nrdcli collections list              # List all collections (hierarchical)\nrdcli collections show \u003cid\u003e         # Show collection details + stats\nrdcli collections create \u003cname\u003e     # Create new collection\nrdcli collections delete \u003cid\u003e       # Delete collection\nrdcli collections stats             # Show system collection stats (all/unsorted/trash counts)\n```\n\n## API Support (via raindrop-client)\n\nThe client exposes these methods:\n- `collection.getRootCollections()` - Get top-level collections\n- `collection.getChildCollections()` - Get nested collections\n- `collection.getCollection(id)` - Get single collection\n- `collection.createCollection()` - Create collection\n- `collection.removeCollection(id)` - Delete collection\n- `collection.getSystemCollectionStats()` - Stats for all/unsorted/trash\n- `collection.updateCollection(id, data)` - Update collection\n\n## Output Considerations\n\n### List command\n- Show hierarchical structure (indented tree)\n- Include: ID, name, count, parent info\n- Support `--flat` flag for non-nested output\n\n### Stats command\n```\nAll Bookmarks: 1,234\nUnsorted: 56\nTrash: 12\n```\n\n## Priority Rationale\n\nP1 because collections are fundamental to Raindrop organization. Users need to:\n- Discover collection IDs for `bookmarks list \u003ccollection-id\u003e`\n- Manage their organizational structure","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-03T18:08:07.886820653-08:00","created_by":"cc-vps","updated_at":"2026-01-03T20:11:16.002525579-08:00","closed_at":"2026-01-03T20:11:16.002525579-08:00","close_reason":"Closed"}
{"id":"rd-6gf","title":"Add tags subcommand","description":"Add a `tags` subcommand for managing Raindrop.io tags.\n\n## Proposed Commands\n\n```bash\nrdcli tags list                     # List all tags with counts\nrdcli tags list --collection \u003cid\u003e   # Tags in specific collection\nrdcli tags rename \u003cold\u003e \u003cnew\u003e       # Rename tag (merges if target exists)\nrdcli tags delete \u003ctag\u003e             # Remove tag from all bookmarks in collection\n```\n\n## API Support (via raindrop-client)\n\nThe client exposes these methods:\n- `tag.getTagsInCollection(collectionId)` - Get tags with counts\n- `tag.renameOrMergeTags(collectionId, request)` - Rename/merge tags\n- `tag.removeTagsFromCollection(collectionId, request)` - Delete tags\n\n## Output Format\n\n### List command\n```\njavascript (45)\ntypescript (32)\nreact (28)\npython (15)\nmachine-learning (8)\n```\n\nOr in table format with more details.\n\n## Use Cases\n\n- Discover available tags for filtering (`--tag` flag)\n- Clean up tag taxonomy (rename/merge duplicates)\n- Bulk remove unused tags\n\n## Priority Rationale\n\nP2 because while useful, tag management is less critical than core bookmark/collection operations.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T18:08:17.224120452-08:00","created_by":"cc-vps","updated_at":"2026-01-03T20:06:55.280887669-08:00","closed_at":"2026-01-03T20:03:50.950853496-08:00"}
{"id":"rd-6ju","title":"2.2 Get Single Bookmark Command","description":"rdcli bookmarks get \u003cid\u003e with --format. Fetch by ID, include highlights, show full metadata","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:17.731175259-08:00","updated_at":"2026-01-03T20:38:24.285519939-08:00","closed_at":"2026-01-03T20:38:24.285519939-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-6ju","depends_on_id":"rd-4c7","type":"blocks","created_at":"2025-12-22T13:57:31.398463493-08:00","created_by":"daemon"},{"issue_id":"rd-6ju","depends_on_id":"rd-4x1","type":"blocks","created_at":"2025-12-22T13:57:31.462222394-08:00","created_by":"daemon"},{"issue_id":"rd-6ju","depends_on_id":"rd-ua6","type":"parent-child","created_at":"2026-01-03T20:19:16.846497582-08:00","created_by":"unknown"}]}
{"id":"rd-74g","title":"Fix failing highlights plain format test","description":"Test 'highlights command - with auth \u003e list plain format works' is failing. The test expects dividers in plain format output but they're not present.\n\nLocation: src/commands/highlights.test.ts:212\n\nError:\nexpect(hasDividers || isEmpty).toBe(true)\nExpected: true\nReceived: false","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-03T21:24:01.402782868-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:04:47.627268139-08:00","closed_at":"2026-01-05T09:44:13.446892074-08:00"}
{"id":"rd-85r","title":"CLI Guidelines Compliance (clig.dev)","description":"Implement recommendations from https://clig.dev/ to ensure rdcli follows modern CLI best practices. These guidelines cover human-first design, output handling, error handling, interactivity, and robustness.","status":"closed","priority":1,"issue_type":"epic","created_at":"2026-01-02T13:52:31.725079918-08:00","created_by":"cc-vps","updated_at":"2026-01-07T07:49:18.439520454-08:00","closed_at":"2026-01-07T06:00:40.14563939-08:00","dependencies":[{"issue_id":"rd-85r","depends_on_id":"rd-u3p","type":"blocks","created_at":"2026-01-02T13:54:02.203741967-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-vst","type":"blocks","created_at":"2026-01-02T13:54:02.231157361-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-eu3","type":"blocks","created_at":"2026-01-02T13:54:02.251549787-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-8q6","type":"blocks","created_at":"2026-01-02T13:54:02.267627686-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-8o9","type":"blocks","created_at":"2026-01-02T13:54:02.28602483-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-1hp","type":"blocks","created_at":"2026-01-02T13:54:02.302883267-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-lmc","type":"blocks","created_at":"2026-01-02T13:54:02.320876541-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-m37","type":"blocks","created_at":"2026-01-02T13:54:02.339838785-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-jse","type":"blocks","created_at":"2026-01-02T13:54:02.357964116-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-2q3","type":"blocks","created_at":"2026-01-02T13:54:02.376512103-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-qt8","type":"blocks","created_at":"2026-01-02T13:54:02.39628842-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-1vc","type":"blocks","created_at":"2026-01-02T13:54:02.415354109-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-vza","type":"blocks","created_at":"2026-01-02T13:54:02.434604316-08:00","created_by":"unknown"},{"issue_id":"rd-85r","depends_on_id":"rd-1kg","type":"blocks","created_at":"2026-01-02T13:54:02.451978485-08:00","created_by":"unknown"}]}
{"id":"rd-8g2","title":"0.3 Create Project Structure","description":"Create src/ with index.ts, client.ts, config.ts, commands/, output/, utils/, types/ per plan structure","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:29.265176538-08:00","updated_at":"2025-12-22T14:36:05.620315851-08:00","closed_at":"2025-12-22T14:36:05.620315851-08:00","dependencies":[{"issue_id":"rd-8g2","depends_on_id":"rd-ak8","type":"blocks","created_at":"2025-12-22T13:57:04.460008224-08:00","created_by":"daemon"}]}
{"id":"rd-8h5","title":"Add trash empty command to permanently delete all items in trash","description":"## Summary\nAdd a `trash empty` command that permanently deletes all bookmarks in the trash collection.\n\n## Background\nThe Raindrop API client (`@lasuillard/raindrop-client`) exposes an `emptyTrash()` method on the Collection API. We need to expose this in the CLI.\n\nThis is needed for test cleanup - our live integration tests create test bookmarks that get moved to trash, and we need a way to clear them out.\n\n## Implementation Details\n\n### API Method\nThe client already has this available:\n```typescript\n// From @lasuillard/raindrop-client\nclient.collection.emptyTrash()\n```\n\n### CLI Command Structure\n```\nrdcli trash empty [options]\n\nOptions:\n  --force, -f    Skip confirmation prompt\n  --dry-run, -n  Show what would be deleted without actually deleting\n```\n\n### Suggested Implementation Location\nCreate a new command file: `src/commands/trash.ts`\n\nOr alternatively add to `src/commands/collections.ts` since trash is technically a special collection (-99).\n\n### Output Formats\nFollow existing patterns:\n- JSON: `{ \"result\": true, \"message\": \"Trash emptied\" }`\n- Plain: `Trash emptied successfully.`\n- Quiet: (no output, just exit 0)\n\n## Acceptance Criteria\n- [ ] `rdcli trash empty --force` empties the trash\n- [ ] Without --force, prompts for confirmation\n- [ ] --dry-run shows intent without executing\n- [ ] Works with all output formats (json, plain, table, tsv, quiet)\n- [ ] Help text is clear: `rdcli trash --help` and `rdcli trash empty --help`\n- [ ] Unit tests for validation/help (no auth required)\n- [ ] Fails gracefully without auth token","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-05T12:52:40.658108073-08:00","created_by":"cc-vps","updated_at":"2026-01-05T13:28:09.41814158-08:00","closed_at":"2026-01-05T13:03:32.025565577-08:00","labels":["api","cleanup","cli"]}
{"id":"rd-8o9","title":"Add progress indicators for API calls","description":"Per clig.dev:\n- 'Responsive is more important than fast - print something in \u003c100ms'\n- 'Show progress if something takes a long time'\n- 'If your program displays no output for a while, it will look broken'\n\nRaindrop API calls can be slow. Show the user something is happening.\n\nImplementation:\n- Add spinner for operations \u003e100ms\n- Use a library like 'ora' or 'cli-spinners'\n- Disable spinner when not TTY (per guidelines)\n- Show what's happening: 'Fetching raindrops...'\n- For batch operations, consider progress bar\n\nNote: Keep output clean - spinner should write to stderr so stdout remains pipeable.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:53:16.98154704-08:00","created_by":"cc-vps","updated_at":"2026-01-05T11:04:08.385513867-08:00","closed_at":"2026-01-05T10:08:10.308458337-08:00","dependencies":[{"issue_id":"rd-8o9","depends_on_id":"rd-vst","type":"blocks","created_at":"2026-01-02T13:54:08.963481056-08:00","created_by":"unknown"},{"issue_id":"rd-8o9","depends_on_id":"rd-u3p","type":"blocks","created_at":"2026-01-02T13:54:08.983253677-08:00","created_by":"unknown"},{"issue_id":"rd-8o9","depends_on_id":"rd-ua6","type":"blocks","created_at":"2026-01-03T04:58:54.171579984-08:00","created_by":"unknown"}]}
{"id":"rd-8oz","title":"Phase 1: Core Infrastructure","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:55:05.594555648-08:00","updated_at":"2026-01-03T18:40:51.941502559-08:00","closed_at":"2026-01-03T07:58:35.994556874-08:00","dependencies":[{"issue_id":"rd-8oz","depends_on_id":"rd-ig5","type":"blocks","created_at":"2025-12-22T13:56:59.843786448-08:00","created_by":"daemon"}]}
{"id":"rd-8q6","title":"Clarify --verbose vs --debug flags","description":"Clarify the distinction between verbose and debug output.\n\nPer clig.dev:\n- '--debug' typically shows stack traces and internal state\n- '--verbose' shows more operational detail (what's happening)\n- '-v' can mean either verbose or version (avoid confusion)\n\nCurrent state: We have --verbose but usage is unclear.\n\nRecommendation: Add --debug flag for stack traces on errors, keep --verbose for 'what am I doing' output.\n\nImplementation:\n- Add -d/--debug global flag\n- On error: show stack trace only if --debug\n- --verbose: show API calls being made, timing info\n- Update error handling in utils/errors.ts","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T13:53:16.952627443-08:00","created_by":"cc-vps","updated_at":"2026-01-03T07:56:00.122289698-08:00","closed_at":"2026-01-03T05:33:03.761031534-08:00"}
{"id":"rd-9ja","title":"Flaky test: list supports --broken filter","description":"The test 'bookmarks command - with auth \u003e list supports --broken filter' is failing intermittently on main branch.\n\nError:\n```\nexpect(result.exitCode).toBe(0)\nExpected: 0\nReceived: 1\n```\n\nLocation: src/commands/bookmarks.test.ts:465\n\nThis appears to be a flaky integration test that depends on external API state. Needs investigation to determine if:\n1. The --broken filter API behavior changed\n2. Test account doesn't have broken links to test against\n3. Rate limiting or other transient issue","status":"closed","priority":2,"issue_type":"bug","created_at":"2026-01-05T12:11:22.554862131-08:00","created_by":"cc-vps","updated_at":"2026-01-05T13:28:09.42441287-08:00","closed_at":"2026-01-05T13:16:51.167569509-08:00"}
{"id":"rd-abh","title":"2.1 List Raindrops Command","description":"rdcli raindrops list [collection-id] with --limit, --sort, --search, --format. Support pagination, special collections (-1 unsorted, -99 trash)","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:16.561162827-08:00","updated_at":"2026-01-03T18:40:51.944238303-08:00","closed_at":"2026-01-03T08:08:40.913045882-08:00","dependencies":[{"issue_id":"rd-abh","depends_on_id":"rd-4c7","type":"blocks","created_at":"2025-12-22T13:57:29.797208126-08:00","created_by":"daemon"},{"issue_id":"rd-abh","depends_on_id":"rd-4x1","type":"blocks","created_at":"2025-12-22T13:57:29.865088008-08:00","created_by":"daemon"}]}
{"id":"rd-ak8","title":"0.2 Install Dependencies","description":"Add commander, @lasuillard/raindrop-client, cli-table3, typescript, tsup, vitest, @types/node","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:28.156015899-08:00","updated_at":"2025-12-22T14:36:05.616220976-08:00","closed_at":"2025-12-22T14:36:05.616220976-08:00","dependencies":[{"issue_id":"rd-ak8","depends_on_id":"rd-pdp","type":"blocks","created_at":"2025-12-22T13:57:02.911601804-08:00","created_by":"daemon"}]}
{"id":"rd-b06","title":"2.4 Update Bookmark Command","description":"rdcli bookmarks update \u003cid\u003e with --title, --excerpt, --note, --tags, --add-tags, --remove-tags, --collection, --important/--no-important","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:20.310912937-08:00","updated_at":"2026-01-03T21:22:05.137307774-08:00","closed_at":"2026-01-03T21:22:05.137307774-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-b06","depends_on_id":"rd-6ju","type":"blocks","created_at":"2025-12-22T13:57:37.491146984-08:00","created_by":"daemon"},{"issue_id":"rd-b06","depends_on_id":"rd-ua6","type":"parent-child","created_at":"2026-01-03T20:19:16.859097948-08:00","created_by":"unknown"}]}
{"id":"rd-dke","title":"CLI Architecture Refactor: Testability \u0026 Patterns","description":"Refactor the CLI architecture to follow production-ready patterns from the CLI starter playbook. Focus areas:\n\n1. **Three-layer entry point** for testability (cli.ts → cli-main.ts → run.ts)\n2. **Stream dependency injection** to enable fast unit tests\n3. **CliContext object** to consolidate scattered global state\n4. **EPIPE handling** for graceful pipe closure\n\n## Why\n- Current architecture uses `process.*` directly, forcing all tests to spawn subprocesses (~100-500ms each)\n- Global state (debugEnabled, noColorFlag) scattered across modules makes testing harder\n- No EPIPE handling causes ugly errors when piping to head/grep\n\n## Success Criteria\n- Unit tests can run with mocked streams (10ms vs 200ms)\n- CliContext passed to commands instead of reading globals\n- Graceful handling when pipes close\n- All existing tests still pass\n\n## Reference\n- CLI Starter: /home/mog/workspace/research-learning-agent/cli-starter/\n- Patterns: Three-layer architecture, stream injection, CliContext","status":"open","priority":2,"issue_type":"epic","created_at":"2026-01-09T19:52:19.061364232-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:52:19.061364232-08:00"}
{"id":"rd-dke.1","title":"Add stream injection to output-streams.ts","description":"Modify output-streams.ts to accept injectable streams instead of using process.stdout/stderr directly.\n\n## Current State\n```typescript\nexport function outputData(message: string): void {\n  process.stdout.write(message + '\\n');\n}\n```\n\n## Target State\n```typescript\nlet stdoutStream: NodeJS.WritableStream = process.stdout;\nlet stderrStream: NodeJS.WritableStream = process.stderr;\n\nexport function setOutputStream(stdout: NodeJS.WritableStream, stderr: NodeJS.WritableStream): void {\n  stdoutStream = stdout;\n  stderrStream = stderr;\n}\n\nexport function resetOutputStream(): void {\n  stdoutStream = process.stdout;\n  stderrStream = process.stderr;\n}\n\nexport function outputData(message: string): void {\n  stdoutStream.write(message + '\\n');\n}\n```\n\n## Acceptance Criteria\n- [ ] Add `setOutputStream(stdout, stderr)` function\n- [ ] Add `resetOutputStream()` function for test cleanup\n- [ ] Update outputData, outputMessage, outputError to use injectable streams\n- [ ] Update outputDataRaw, outputMessageRaw similarly\n- [ ] Add unit test demonstrating stream capture works\n- [ ] Existing tests still pass (non-breaking change)\n\n## Reference\nSee CLI starter: src/cli/output.ts (setOutputStream pattern)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:28.971030075-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:52:28.971030075-08:00","dependencies":[{"issue_id":"rd-dke.1","depends_on_id":"rd-dke","type":"parent-child","created_at":"2026-01-09T19:52:28.97361898-08:00","created_by":"unknown"}]}
{"id":"rd-dke.2","title":"Create CliContext type and context.ts module","description":"Create a unified CliContext object that consolidates scattered global state (TTY detection, output config, colors, debug/verbose flags).\n\n## Current State\nState is scattered across multiple modules:\n- `utils/tty.ts`: noColorFlag, isTTY(), shouldUseColors(), getDefaultFormat()\n- `utils/debug.ts`: debugEnabled, verboseEnabled\n- `utils/colors.ts`: color functions\n- Commands read globals directly\n\n## Target State\n```typescript\n// src/cli/context.ts\nexport type OutputConfig = {\n  format: OutputFormat;\n  color: boolean;\n  verbose: boolean;\n  debug: boolean;\n  quiet: boolean;\n};\n\nexport type CliContext = {\n  isTty: boolean;\n  output: OutputConfig;\n  colors: {\n    success: (t: string) =\u003e string;\n    warning: (t: string) =\u003e string;\n    error: (t: string) =\u003e string;\n    muted: (t: string) =\u003e string;\n    bold: (t: string) =\u003e string;\n    cyan: (t: string) =\u003e string;\n    // ...\n  };\n  prefix: {\n    ok: string;\n    warn: string;\n    err: string;\n    info: string;\n  };\n};\n\nexport function createContext(argv: string[], env: Record\u003cstring, string | undefined\u003e): CliContext;\n```\n\n## Acceptance Criteria\n- [ ] Create src/cli/context.ts with CliContext type\n- [ ] Implement createContext() that reads argv/env to determine config\n- [ ] Context determines: format, color, verbose, debug, quiet from argv\n- [ ] Context respects NO_COLOR env and --no-color flag\n- [ ] Color functions are wrapped to respect color setting\n- [ ] Export from src/cli/index.ts\n- [ ] Add unit tests for createContext()\n\n## Notes\n- This is additive - existing globals can coexist during migration\n- Commands will be updated to use context in a later task\n\n## Reference\nSee CLI starter: src/cli/context.ts","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:41.847039019-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:52:41.847039019-08:00","dependencies":[{"issue_id":"rd-dke.2","depends_on_id":"rd-dke","type":"parent-child","created_at":"2026-01-09T19:52:41.849812778-08:00","created_by":"unknown"}]}
{"id":"rd-dke.3","title":"Split index.ts into three-layer architecture","description":"Split the monolithic src/index.ts into three layers for testability:\n\n## Target Structure\n```\nsrc/\n├── cli.ts        # Thin shell - injects process.* dependencies\n├── cli-main.ts   # Error handling, EPIPE handling, orchestration\n├── run.ts        # Core Commander logic (testable with mocked streams)\n└── index.ts      # Re-exports for library use (if needed)\n```\n\n## cli.ts (Thin Shell)\n```typescript\n#!/usr/bin/env node\nimport { runCliMain } from './cli-main.js';\n\nvoid runCliMain({\n  argv: process.argv.slice(2),\n  env: process.env,\n  stdout: process.stdout,\n  stderr: process.stderr,\n  exit: (code) =\u003e process.exit(code),\n  setExitCode: (code) =\u003e { process.exitCode = code; },\n}).catch((error) =\u003e {\n  process.stderr.write(`${error.message}\\n`);\n  process.exitCode = 1;\n});\n```\n\n## cli-main.ts\n- Receives injected dependencies\n- Sets up EPIPE handling\n- Calls runCli() with streams\n- Handles top-level errors (JSON format if --json)\n\n## run.ts\n```typescript\nexport type RunEnv = {\n  env: Record\u003cstring, string | undefined\u003e;\n  stdout: NodeJS.WritableStream;\n  stderr: NodeJS.WritableStream;\n};\n\nexport async function runCli(argv: string[], env: RunEnv): Promise\u003cvoid\u003e;\n```\n- Creates CliContext\n- Sets up Commander program\n- Configures output streams\n- Parses and executes\n\n## Acceptance Criteria\n- [ ] Create src/cli.ts as new entry point (update package.json bin)\n- [ ] Create src/cli-main.ts with CliMainArgs type\n- [ ] Create src/run.ts with runCli() accepting stream params\n- [ ] Move Commander setup from index.ts to run.ts\n- [ ] Update package.json `bin` to point to dist/cli.js\n- [ ] All existing integration tests pass\n- [ ] Add unit test that calls runCli() with mocked streams\n\n## Notes\n- This is the core refactoring task\n- Depends on: rd-dke.1 (stream injection), rd-dke.2 (CliContext)\n\n## Reference\nSee CLI starter: src/cli.ts, src/cli-main.ts, src/run.ts","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:52:57.478746681-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:52:57.478746681-08:00","dependencies":[{"issue_id":"rd-dke.3","depends_on_id":"rd-dke","type":"parent-child","created_at":"2026-01-09T19:52:57.480903496-08:00","created_by":"unknown"},{"issue_id":"rd-dke.3","depends_on_id":"rd-dke.1","type":"blocks","created_at":"2026-01-09T19:53:31.612643905-08:00","created_by":"unknown"},{"issue_id":"rd-dke.3","depends_on_id":"rd-dke.2","type":"blocks","created_at":"2026-01-09T19:53:31.66396252-08:00","created_by":"unknown"}]}
{"id":"rd-dke.4","title":"Add EPIPE handling for graceful pipe closure","description":"Add EPIPE error handling so the CLI exits gracefully when output pipes close (e.g., when piping to `head` or `grep -q`).\n\n## Problem\nWithout EPIPE handling:\n```bash\nrd bookmarks list | head -5\n# Works, but may show ugly EPIPE error after output\n```\n\n## Solution\nAdd EPIPE handler in cli-main.ts:\n```typescript\nfunction handlePipeErrors(stream: NodeJS.WritableStream, exit: (code: number) =\u003e void): void {\n  stream.on('error', (error: NodeJS.ErrnoException) =\u003e {\n    if (error.code === 'EPIPE') {\n      exit(0); // Normal exit when pipe closes\n      return;\n    }\n    throw error;\n  });\n}\n\nexport async function runCliMain({ stdout, stderr, exit, ... }: CliMainArgs): Promise\u003cvoid\u003e {\n  handlePipeErrors(stdout, exit);\n  handlePipeErrors(stderr, exit);\n  // ... rest of main\n}\n```\n\n## Acceptance Criteria\n- [ ] Add handlePipeErrors() function in cli-main.ts\n- [ ] Call it for both stdout and stderr before running CLI\n- [ ] EPIPE errors result in clean exit(0)\n- [ ] Other stream errors are re-thrown\n- [ ] Manual test: `rd bookmarks list --limit 100 | head -5` exits cleanly\n\n## Notes\n- Depends on rd-dke.3 (three-layer split) since EPIPE handling goes in cli-main.ts\n- This is a small addition once the architecture is in place\n\n## Reference\nSee CLI starter: src/cli-main.ts (handlePipeErrors function)","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:53:09.584288071-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:53:09.584288071-08:00","dependencies":[{"issue_id":"rd-dke.4","depends_on_id":"rd-dke","type":"parent-child","created_at":"2026-01-09T19:53:09.586235277-08:00","created_by":"unknown"},{"issue_id":"rd-dke.4","depends_on_id":"rd-dke.3","type":"blocks","created_at":"2026-01-09T19:53:31.725028328-08:00","created_by":"unknown"}]}
{"id":"rd-dke.5","title":"Add unit tests with mocked streams","description":"Add fast unit tests that use mocked streams instead of spawning subprocesses.\n\n## Current State\nAll CLI tests spawn subprocesses via runCli() in test-utils/cli.ts:\n```typescript\nconst proc = Bun.spawn(['bun', 'src/index.ts', ...args], { ... });\n// ~100-500ms per test\n```\n\n## Target State\nAdd unit tests that call runCli() directly with mocked streams:\n```typescript\nimport { runCli } from '../src/run.js';\nimport { captureStream, noopStream } from './helpers/streams.js';\n\nit('outputs JSON correctly', async () =\u003e {\n  const { stream, getOutput } = captureStream();\n  \n  await runCli(['bookmarks', 'list', '--json', '--limit', '2'], {\n    env: { RAINDROP_TOKEN: 'test-token' },\n    stdout: stream,\n    stderr: noopStream(),\n  });\n\n  const result = JSON.parse(getOutput());\n  expect(result).toHaveLength(2);\n}); // ~10-20ms\n```\n\n## Files to Create\n\n### src/test-utils/streams.ts\n```typescript\nimport { Writable } from 'node:stream';\n\nexport function captureStream(): {\n  stream: NodeJS.WritableStream;\n  getOutput: () =\u003e string;\n} {\n  let output = '';\n  const stream = new Writable({\n    write(chunk, _encoding, callback) {\n      output += chunk.toString();\n      callback();\n    },\n  });\n  return { stream, getOutput: () =\u003e output };\n}\n\nexport function noopStream(): NodeJS.WritableStream {\n  return new Writable({\n    write(_chunk, _encoding, callback) {\n      callback();\n    },\n  });\n}\n```\n\n### src/run.unit.test.ts (or similar)\n- Test help output\n- Test JSON format flag\n- Test quiet mode\n- Test error handling\n- Test verbose/debug output goes to stderr\n\n## Acceptance Criteria\n- [ ] Create src/test-utils/streams.ts with captureStream() and noopStream()\n- [ ] Add at least 5 unit tests using mocked streams\n- [ ] Tests cover: help, JSON output, quiet mode, error cases, verbose/debug\n- [ ] Unit tests run significantly faster than equivalent integration tests\n- [ ] Document pattern in test file for future test authors\n\n## Notes\n- Depends on rd-dke.3 (three-layer split) for runCli() to accept streams\n- Keep existing integration tests - they're still valuable for exit codes\n- Mock HTTP calls with nock as usual\n\n## Reference\nSee CLI starter: tests/unit/cli.test.ts, tests/helpers/fixtures.ts","status":"open","priority":2,"issue_type":"task","created_at":"2026-01-09T19:53:26.477069951-08:00","created_by":"cc-vps","updated_at":"2026-01-09T19:53:26.477069951-08:00","dependencies":[{"issue_id":"rd-dke.5","depends_on_id":"rd-dke","type":"parent-child","created_at":"2026-01-09T19:53:26.479611909-08:00","created_by":"unknown"},{"issue_id":"rd-dke.5","depends_on_id":"rd-dke.3","type":"blocks","created_at":"2026-01-09T19:53:31.776532992-08:00","created_by":"unknown"}]}
{"id":"rd-eu3","title":"Add NO_COLOR and --no-color support","description":"Add color disable support before adding any colored output.\n\nPer clig.dev, disable colors when:\n- stdout/stderr is not a TTY\n- NO_COLOR env var is set (any non-empty value)\n- TERM=dumb\n- --no-color flag is passed\n- Optionally: RDCLI_NO_COLOR env var for app-specific control\n\nImplementation:\n- Add --no-color global flag\n- Check NO_COLOR and TERM env vars\n- Create utility: shouldUseColor(): boolean\n- Wire into output system before any colors are added\n\nReference: https://no-color.org/","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T13:52:52.839302936-08:00","created_by":"cc-vps","updated_at":"2026-01-03T06:11:26.795592688-08:00","closed_at":"2026-01-02T21:44:49.134932684-08:00","dependencies":[{"issue_id":"rd-eu3","depends_on_id":"rd-vst","type":"blocks","created_at":"2026-01-02T13:54:08.939768967-08:00","created_by":"unknown"}]}
{"id":"rd-g4r","title":"2.3 Add Bookmark Command","description":"rdcli bookmarks add \u003curl\u003e with --title, --excerpt, --note, --tags, --collection, --parse. Output created bookmark ID","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:19.013810647-08:00","updated_at":"2026-01-03T20:50:45.208378147-08:00","closed_at":"2026-01-03T20:50:45.208378147-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-g4r","depends_on_id":"rd-4c7","type":"blocks","created_at":"2025-12-22T13:57:34.457735868-08:00","created_by":"daemon"},{"issue_id":"rd-g4r","depends_on_id":"rd-4x1","type":"blocks","created_at":"2025-12-22T13:57:34.522616139-08:00","created_by":"daemon"},{"issue_id":"rd-g4r","depends_on_id":"rd-ua6","type":"parent-child","created_at":"2026-01-03T20:19:16.853120168-08:00","created_by":"unknown"}]}
{"id":"rd-ig5","title":"Phase 0: Project Setup","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:55:04.670143856-08:00","updated_at":"2025-12-22T14:36:10.532863252-08:00","closed_at":"2025-12-22T14:36:10.532863252-08:00"}
{"id":"rd-jse","title":"Add --timeout flag for network operations","description":"Per clig.dev: 'Make things time out. Allow network timeouts to be configured, and have a reasonable default so it doesn't hang forever.'\n\nImplementation:\n- Add global --timeout \u003cseconds\u003e flag\n- Default to reasonable value (30s?)\n- Support RDCLI_TIMEOUT env var\n- Apply to all API calls via client wrapper\n- Show helpful error when timeout occurs","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:53:41.000427101-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:04:46.721886452-08:00","closed_at":"2026-01-05T12:04:46.721886452-08:00","close_reason":"Closed"}
{"id":"rd-km3","title":"Add highlights subcommand","description":"Add a `highlights` subcommand for viewing Raindrop.io highlights.\n\n## Proposed Commands\n\n```bash\nrdcli highlights list                     # List all highlights\nrdcli highlights list --collection \u003cid\u003e   # Highlights in specific collection\nrdcli highlights list --limit 50          # Limit results\n```\n\n## API Support (via raindrop-client)\n\nThe client exposes these methods:\n- `highlight.getAllHighlights(page, perpage)` - Get all highlights across collections\n- `highlight.getHighlightsInCollection(collectionId, page, perpage)` - Get highlights in a collection\n\n## Highlight Data Structure\n\nEach highlight includes:\n- `_id` - Highlight ID\n- `text` - Highlighted text\n- `note` - Optional note attached to highlight\n- `color` - Highlight color\n- `created` - Creation date\n- `raindropRef` - ID of parent bookmark\n- `link` - URL of parent bookmark\n- `title` - Title of parent bookmark\n- `tags` - Tags from parent bookmark\n\n## Output Considerations\n\nShow highlight text with context:\n```\n[bookmark-title]\n\"highlighted text here...\"\nNote: optional note\n---\n```\n\n## Use Cases\n\n- Review reading highlights/annotations\n- Export highlights for note-taking systems\n- Find bookmarks with specific annotations\n\n## Priority Rationale\n\nP2 because highlights are a secondary feature (require Pro for some features) but valuable for research/reading workflows.","status":"closed","priority":2,"issue_type":"feature","created_at":"2026-01-03T18:08:27.878920485-08:00","created_by":"cc-vps","updated_at":"2026-01-03T20:06:17.570461265-08:00","closed_at":"2026-01-03T20:06:17.570461265-08:00","close_reason":"Implemented in PR #18"}
{"id":"rd-lmc","title":"Improve error messages with actionable hints","description":"Per clig.dev: 'Catch errors and rewrite them for humans. Think of it like a conversation where the program is guiding them in the right direction.'\n\nMake error messages helpful and actionable.\n\nExamples:\n- 'Can't connect to Raindrop API. Check your internet connection or try again later.'\n- 'Invalid collection ID: \"abc\". Collection IDs must be numbers. Use \"rdcli collections list\" to see available collections.'\n- 'Rate limited by Raindrop API. Wait 60 seconds before retrying.'\n\nImplementation:\n- Create error handler that catches known error types\n- Map API errors to friendly messages\n- Include 'what to do next' in error messages\n- Put most important info at end (per clig.dev)\n- Consider exit codes: 1=error, 2=usage error","status":"closed","priority":1,"issue_type":"task","created_at":"2026-01-02T13:53:17.042166887-08:00","created_by":"cc-vps","updated_at":"2026-01-05T11:43:30.456980331-08:00","closed_at":"2026-01-05T09:32:42.059536034-08:00","dependencies":[{"issue_id":"rd-lmc","depends_on_id":"rd-8q6","type":"blocks","created_at":"2026-01-02T13:54:09.004940386-08:00","created_by":"unknown"}]}
{"id":"rd-m37","title":"Add support path to help text","description":"Per clig.dev: 'Provide a support path for feedback and issues'\n\nAdd GitHub issues link to help output. Users should easily find where to report bugs or request features.\n\nImplementation:\n- Add to main help text: 'Report issues: https://github.com/crcatala/raindrop-cli-spike/issues'\n- Consider adding to error messages for unexpected errors\n- Could also link to docs when we have them","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:53:40.968326908-08:00","created_by":"cc-vps","updated_at":"2026-01-04T05:18:27.564232696-08:00","closed_at":"2026-01-03T21:24:22.518485687-08:00"}
{"id":"rd-n2q","title":"Add filters discovery subcommand","description":"Add a `filters` subcommand to discover available filters for a collection.\n\n## Proposed Commands\n\n```bash\nrdcli filters show                  # Show filters for all bookmarks\nrdcli filters show \u003ccollection-id\u003e  # Show filters for specific collection\n```\n\n## API Support (via raindrop-client)\n\nThe client exposes:\n- `filter.getFilters(collectionId, tagsSort?, search?)` - Returns available filters\n\n## Filter Response Structure\n\nThe API returns:\n- `types` - Array of {_id: type, count: N} (e.g., article, video, link)\n- `tags` - Array of {_id: tag, count: N}\n- `created` - Array of {_id: date, count: N} (grouped by date)\n\n## Output Format\n\n```\nTypes:\n  article (45)\n  link (123)\n  video (12)\n\nTags:\n  javascript (45)\n  typescript (32)\n  react (28)\n\nCreated:\n  2025-01 (34)\n  2024-12 (56)\n  2024-11 (23)\n```\n\n## Use Cases\n\n- Discover what types of content exist in a collection\n- See tag distribution\n- Understand temporal distribution of bookmarks\n- Power user feature for building complex queries\n\n## Priority Rationale\n\nP3 because this is a power user/discovery feature. Most users will use convenience flags or the web UI for filtering.","status":"closed","priority":3,"issue_type":"feature","created_at":"2026-01-03T18:08:39.792936463-08:00","created_by":"cc-vps","updated_at":"2026-01-03T20:06:55.287370515-08:00","closed_at":"2026-01-03T19:55:49.479907311-08:00"}
{"id":"rd-nfd","title":"2.5 Delete Bookmark Command","description":"rdcli bookmarks delete \u003cid\u003e with --permanent (skip trash), --force (no confirmation). Move to trash by default","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:21.203564705-08:00","updated_at":"2026-01-03T20:37:50.820248273-08:00","closed_at":"2026-01-03T20:28:42.87553192-08:00","dependencies":[{"issue_id":"rd-nfd","depends_on_id":"rd-4c7","type":"blocks","created_at":"2025-12-22T13:57:36.041037616-08:00","created_by":"daemon"},{"issue_id":"rd-nfd","depends_on_id":"rd-4x1","type":"blocks","created_at":"2025-12-22T13:57:36.102986541-08:00","created_by":"daemon"},{"issue_id":"rd-nfd","depends_on_id":"rd-ua6","type":"parent-child","created_at":"2026-01-03T20:19:16.8653902-08:00","created_by":"unknown"}]}
{"id":"rd-ntf","title":"2.7 Batch Operations Commands","description":"rdcli raindrops batch-update and batch-delete with --ids, --collection, --add-tags, --remove-tags, --force. Accept IDs from stdin","status":"closed","priority":0,"issue_type":"feature","created_at":"2025-12-22T13:56:23.794724143-08:00","updated_at":"2026-01-05T11:04:08.393193771-08:00","closed_at":"2026-01-05T09:44:15.71746955-08:00","dependencies":[{"issue_id":"rd-ntf","depends_on_id":"rd-b06","type":"blocks","created_at":"2025-12-22T13:57:41.17928014-08:00","created_by":"daemon"},{"issue_id":"rd-ntf","depends_on_id":"rd-nfd","type":"blocks","created_at":"2025-12-22T13:57:41.23820639-08:00","created_by":"daemon"}]}
{"id":"rd-pdp","title":"0.1 Repository Initialization","description":"Init npm/bun, setup TypeScript config, configure ESLint+Prettier, add .gitignore for Node.js, update README","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:27.152524091-08:00","updated_at":"2025-12-22T14:36:05.611196207-08:00","closed_at":"2025-12-22T14:36:05.611196207-08:00"}
{"id":"rd-qt8","title":"Add --dry-run flag for destructive operations","description":"Per clig.dev: 'Consider giving the user a way to dry run the operation so they can see what'll happen before they commit to it.'\n\nShow what WOULD happen without actually doing it.\n\nImplementation:\n- Add -n/--dry-run flag to: delete, update, batch-delete, batch-update\n- Output what would be changed/deleted\n- Exit with success (0) after showing preview\n- Make output clear it's a dry run: 'Would delete 5 raindrops:'\n\nExample:\n```\n$ rdcli raindrops batch-delete --ids 1,2,3 --dry-run\nWould delete 3 raindrops:\n  - 1: 'Article about TypeScript'\n  - 2: 'React hooks tutorial'  \n  - 3: 'CLI design patterns'\nRun without --dry-run to execute.\n```","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-02T13:53:41.089153676-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:33:31.638734811-08:00","closed_at":"2026-01-05T12:18:26.211087076-08:00"}
{"id":"rd-qy8","title":"1.2 Client Wrapper","description":"Create singleton wrapper around @lasuillard/raindrop-client, lazy initialization, centralized error handling for API errors, rate limit awareness","status":"closed","priority":0,"issue_type":"task","created_at":"2025-12-22T13:55:50.1178381-08:00","updated_at":"2026-01-03T07:56:00.124709928-08:00","closed_at":"2026-01-03T07:21:05.380383152-08:00","dependencies":[{"issue_id":"rd-qy8","depends_on_id":"rd-5f3","type":"blocks","created_at":"2025-12-22T13:57:14.721272214-08:00","created_by":"daemon"}]}
{"id":"rd-tr4","title":"Refactor test suite: split live tests, add throttling, and cleanup","description":"## Summary\nRefactor the test suite to separate live API tests from unit tests, add rate limit protection, and implement test artifact cleanup.\n\n## Background\nAs our live test cases grow, we're encountering:\n- Rate limits from Raindrop API\n- Test artifacts (bookmarks, tags) lingering in the account\n- All tests running together, making it hard to run just unit tests or just live tests\n\n## Implementation Plan\n\n### 1. Rate Limiting / Throttling (DRY approach)\nAdd throttling at the Axios interceptor level via environment variable:\n\n```typescript\n// In src/utils/axios-interceptors.ts\nconst apiDelay = process.env.RDCLI_API_DELAY_MS;\nif (apiDelay) {\n  await sleep(parseInt(apiDelay, 10));\n}\n```\n\nDefault delay for live tests: **250ms** between requests.\n\n### 2. Split Test Files\nMove live API tests to separate files:\n- `src/commands/bookmarks.test.ts` → keep unit tests only\n- `src/commands/bookmarks.live.test.ts` → move 'with auth' describe blocks\n- Same for: collections, tags, highlights\n\n### 3. Update package.json Scripts\n```json\n{\n  \"test\": \"bun test --ignore '**/**.live.test.ts'\",\n  \"test:live\": \"RDCLI_API_DELAY_MS=250 bun test '**/*.live.test.ts'\",\n  \"test:all\": \"RDCLI_API_DELAY_MS=250 bun test\",\n  \"test:verbose\": \"bun test --ignore '**/**.live.test.ts'\"\n}\n```\n\n### 4. Update lefthook.yml Pre-push\n```yaml\npre-push:\n  commands:\n    verify:\n      run: SIMPLE_OUTPUT=1 bun run verify\n      # verify.ts should run test:all (includes live tests)\n```\n\n### 5. Test Artifact Naming Convention\nAll test-created resources should use identifiable prefixes:\n- **Bookmarks**: Title starts with `[RDCLI-TEST]`\n- **Tags**: Prefixed with `rdcli-test-`\n- **Collections**: Named `RDCLI-TEST-*`\n\nUpdate existing test helpers (`createTestBookmark`, etc.) to use these conventions.\n\n### 6. Test Cleanup Utility\nCreate `src/test-utils/cleanup.ts`:\n\n```typescript\nexport async function cleanupTestArtifacts() {\n  // 1. Search for [RDCLI-TEST] bookmarks\n  // 2. Batch delete them permanently\n  // 3. Empty trash (requires rd-8h5)\n}\n```\n\nRun cleanup **once before** the live test suite (not before each test).\n\n### 7. Live Test Setup\nAdd a bun test preload or beforeAll at suite level:\n```typescript\n// src/test-utils/live-setup.ts\nimport { beforeAll } from 'bun:test';\nimport { cleanupTestArtifacts } from './cleanup.js';\n\nbeforeAll(async () =\u003e {\n  if (process.env.RAINDROP_TOKEN) {\n    await cleanupTestArtifacts();\n  }\n});\n```\n\n## Acceptance Criteria\n- [ ] `bun run test` runs only unit tests (no API calls)\n- [ ] `bun run test:live` runs only live tests with 250ms throttle\n- [ ] `bun run test:all` runs everything with throttle\n- [ ] Live tests skip cleanly when RAINDROP_TOKEN is not set\n- [ ] Pre-push hook runs all tests (live tests skip if no token)\n- [ ] Test artifacts use `[RDCLI-TEST]` naming convention\n- [ ] Cleanup runs once before live test suite\n- [ ] No orphaned test artifacts after successful test run\n\n## Dependencies\n- Blocked by rd-8h5 (trash empty command) - needed for cleanup","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-05T12:54:15.904525215-08:00","created_by":"cc-vps","updated_at":"2026-01-05T16:52:35.893063466-08:00","closed_at":"2026-01-05T16:52:35.893063466-08:00","close_reason":"Closed","labels":["dx","refactor","testing"],"dependencies":[{"issue_id":"rd-tr4","depends_on_id":"rd-8h5","type":"blocks","created_at":"2026-01-05T12:54:15.916781789-08:00","created_by":"unknown"}]}
{"id":"rd-u22","title":"OSS + npm v0.1.0 release readiness","description":"Track the remaining work to make this repo ready for a public OSS release and first npm publish.\n\n**Primary reference:** plans/RELEASE-READINESS-v0.1.0.md\n\n## Release Flow\n\n**Phase 1: Prep work (in private spike repo)**\n- P0 tasks: LICENSE, package.json, CI security, dynamic version\n- P1 tasks: TypeScript cleanup, CI hardening, README, CONTRIBUTING, CHANGELOG\n\n**Phase 2: Pre-migration verification**\n- Run full verification checklist in spike repo\n- Confirm npm pack, build, tests all work\n\n**Phase 3: Public repo + publish**\n- Create public `raindrop-cli` repo with clean history\n- Copy verified code, final smoke test\n- npm publish\n\n## Exit Criteria\n- Public repo `github.com/crcatala/raindrop-cli` exists\n- `npm install -g raindrop-cli` works\n- Package contains only intended files\n- All documentation accurate and complete","status":"open","priority":0,"issue_type":"epic","created_at":"2026-01-06T16:40:01.559650973-08:00","created_by":"cc-vps","updated_at":"2026-01-07T08:36:37.241755508-08:00"}
{"id":"rd-u22.1","title":"Add LICENSE file","description":"Add MIT LICENSE file to repository root.\n\n**Context:** package.json claims MIT license but no LICENSE file exists. This is a legal requirement for OSS.\n\n**Note:** Project created December 2025. Use `2025` as copyright year.\n\n**Acceptance Criteria:**\n- [ ] LICENSE file exists at repo root\n- [ ] Contains MIT license text with correct copyright holder (Christian Catalan, 2025)\n\n**Implementation:**\n```bash\ncat \u003e LICENSE \u003c\u003c 'EOF'\nMIT License\n\nCopyright (c) 2025 Christian Catalan\n\nPermission is hereby granted, free of charge, to any person obtaining a copy\nof this software and associated documentation files (the \"Software\"), to deal\nin the Software without restriction, including without limitation the rights\nto use, copy, modify, merge, publish, distribute, sublicense, and/or sell\ncopies of the Software, and to permit persons to whom the Software is\nfurnished to do so, subject to the following conditions:\n\nThe above copyright notice and this permission notice shall be included in all\ncopies or substantial portions of the Software.\n\nTHE SOFTWARE IS PROVIDED \"AS IS\", WITHOUT WARRANTY OF ANY KIND, EXPRESS OR\nIMPLIED, INCLUDING BUT NOT LIMITED TO THE WARRANTIES OF MERCHANTABILITY,\nFITNESS FOR A PARTICULAR PURPOSE AND NONINFRINGEMENT. IN NO EVENT SHALL THE\nAUTHORS OR COPYRIGHT HOLDERS BE LIABLE FOR ANY CLAIM, DAMAGES OR OTHER\nLIABILITY, WHETHER IN AN ACTION OF CONTRACT, TORT OR OTHERWISE, ARISING FROM,\nOUT OF OR IN CONNECTION WITH THE SOFTWARE OR THE USE OR OTHER DEALINGS IN THE\nSOFTWARE.\nEOF\n```\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §1","status":"closed","priority":0,"issue_type":"task","estimated_minutes":5,"created_at":"2026-01-07T07:59:10.491884686-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.975166592-08:00","closed_at":"2026-01-08T16:28:22.505971104-08:00","dependencies":[{"issue_id":"rd-u22.1","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T07:59:10.495336049-08:00","created_by":"unknown"}]}
{"id":"rd-u22.10","title":"Pre-migration verification gate","description":"Verification checkpoint before creating public repo. Run in the private spike repo.\n\n**Purpose:** Confirm all prep work is complete and working before migrating to public repo.\n\n## Pre-Migration Checklist (run in spike repo)\n\n```bash\n# 1. Clean slate\nrm -rf dist node_modules\nbun install --frozen-lockfile\n\n# 2. Quality gates\nbun run verify\n\n# 3. Build\nbun run build\n\n# 4. Smoke tests\nnode dist/index.js --help\nnode dist/index.js --version\nnode dist/index.js auth status 2\u003e\u00261 | head -5  # Should show auth error, not crash\n\n# 5. Package audit - THIS IS KEY\nnpm pack --dry-run\n# ✓ Must show ONLY: dist/*, README.md, LICENSE, package.json\n# ✗ Must NOT show: .beads/, plans/, .github/, bun.lock, *.test.d.ts\n\n# 6. Dry run publish\nnpm publish --dry-run --access public\n\n# 7. Doc review\nhead -50 README.md        # Verify examples use \"bookmarks\" not \"raindrops\"\nls LICENSE                # Verify exists\nhead -20 CHANGELOG.md     # Verify 0.1.0 entry exists (date can be XX placeholder)\n```\n\n**Acceptance Criteria:**\n- [ ] All checklist commands pass\n- [ ] `npm pack --dry-run` shows ONLY intended files\n- [ ] `--version` shows correct version (matches package.json)\n- [ ] `--help` works\n- [ ] README examples are accurate (bookmarks, not raindrops)\n- [ ] LICENSE and CHANGELOG exist\n\n**After this gate passes:** Proceed to create public repo (rd-u22.11)\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md - Pre-Publish Checklist (adapted for pre-migration)","status":"closed","priority":0,"issue_type":"gate","estimated_minutes":20,"created_at":"2026-01-07T08:01:12.190432309-08:00","created_by":"cc-vps","updated_at":"2026-01-09T14:58:56.072188685-08:00","closed_at":"2026-01-09T14:58:56.072188685-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-u22.10","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:01:12.193037977-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.1","type":"blocks","created_at":"2026-01-07T08:01:12.196807238-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.2","type":"blocks","created_at":"2026-01-07T08:01:12.200251445-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.3","type":"blocks","created_at":"2026-01-07T08:01:12.203263094-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.4","type":"blocks","created_at":"2026-01-07T08:01:12.206070968-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.5","type":"blocks","created_at":"2026-01-07T08:01:12.209185306-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.6","type":"blocks","created_at":"2026-01-07T08:01:12.21243549-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.7","type":"blocks","created_at":"2026-01-07T08:01:12.215538316-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.8","type":"blocks","created_at":"2026-01-07T08:01:12.218634423-08:00","created_by":"unknown"},{"issue_id":"rd-u22.10","depends_on_id":"rd-u22.9","type":"blocks","created_at":"2026-01-07T08:01:12.221766616-08:00","created_by":"unknown"}]}
{"id":"rd-u22.11","title":"Create public raindrop-cli repo and migrate code","description":"Create clean public repository and migrate verified code from spike repo.\n\n**Prerequisites:** rd-u22.10 (pre-migration verification) must pass first.\n\n## Steps\n\n### 1. Create new public repo on GitHub\n- Name: `raindrop-cli`\n- Visibility: Public\n- No README/LICENSE/gitignore (we have our own)\n\n### 2. Prepare migration in spike repo\n```bash\ncd raindrop-cli-spike\n\n# Create a clean export (no .git history)\nmkdir -p ../raindrop-cli-export\nrsync -av --exclude=.git --exclude=node_modules --exclude=dist --exclude=coverage ./ ../raindrop-cli-export/\n```\n\n### 3. Initialize and push to public repo\n```bash\ncd ../raindrop-cli-export\ngit init\ngit add -A\ngit commit -m \"Initial release v0.1.0\n\nFeatures:\n- Bookmark operations: list, show, add, update, delete, batch-update, batch-delete\n- Collection management: list, show, add, delete, stats\n- Tag operations: list, rename, delete  \n- Highlights: list, show\n- Filters: list\n- Trash: list, empty\n- Multiple output formats: json, table, tsv, plain\n- Root shortcuts: rd list, rd search, rd add, rd show\n- Smart TTY detection for output format defaults\"\n\ngit remote add origin git@github.com:crcatala/raindrop-cli.git\ngit branch -M main\ngit push -u origin main\n```\n\n### 4. Decision: What to include?\n\n**Definitely include:**\n- src/, scripts/, dist/ (after build)\n- package.json, tsconfig.json, bunfig.toml, etc.\n- README.md, LICENSE, CHANGELOG.md, CONTRIBUTING.md\n- .github/workflows/ (CI)\n- .gitignore, .prettierrc, lefthook.yml\n\n**Your choice:**\n- `.beads/` - Issue tracker. Include for transparency, exclude for cleaner repo\n- `plans/` - Planning docs. Same consideration\n\n### 5. Clone fresh and verify\n```bash\ncd ..\ngit clone git@github.com:crcatala/raindrop-cli.git raindrop-cli-fresh\ncd raindrop-cli-fresh\nbun install\nbun run verify\nbun run build\n```\n\n**Acceptance Criteria:**\n- [ ] github.com/crcatala/raindrop-cli exists and is public\n- [ ] Single clean initial commit (no spike history)\n- [ ] All source files present\n- [ ] `bun install \u0026\u0026 bun run verify` passes in fresh clone\n- [ ] Repo has appropriate description/topics on GitHub\n\n**After completion:** Proceed to final publish (rd-u22.12)","status":"closed","priority":0,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-07T08:37:48.957734853-08:00","created_by":"cc-vps","updated_at":"2026-01-09T14:58:56.078766233-08:00","closed_at":"2026-01-09T14:58:56.078766233-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-u22.11","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:37:48.960740487-08:00","created_by":"unknown"},{"issue_id":"rd-u22.11","depends_on_id":"rd-u22.10","type":"blocks","created_at":"2026-01-07T08:38:09.543402609-08:00","created_by":"unknown"}]}
{"id":"rd-u22.12","title":"Final verification and npm publish","description":"Final verification in public repo and npm publish.\n\n**Prerequisites:** rd-u22.11 (public repo created and code migrated)\n\n## Final Verification Checklist\n\nRun these in the freshly cloned public repo:\n\n```bash\ncd raindrop-cli  # The public repo\n\n# 1. Clean install\nrm -rf node_modules dist\nbun install --frozen-lockfile\n\n# 2. Full verification\nbun run verify\n\n# 3. Build\nbun run build\n\n# 4. Smoke tests\nnode dist/index.js --help\nnode dist/index.js --version\nnode dist/index.js auth status 2\u003e\u00261 | head -5\n\n# 5. Package audit\nnpm pack --dry-run\n# Verify: ONLY dist/*, README.md, LICENSE, package.json\n\n# 6. Final publish dry-run\nnpm publish --dry-run --access public\n```\n\n## Pre-Publish Final Checks\n\n- [ ] CHANGELOG.md has actual release date (not XX placeholder)\n- [ ] README badges will resolve once published\n- [ ] You are logged into npm (`npm whoami`)\n\n## Publish!\n\n```bash\n# Update CHANGELOG date first\n# e.g., ## [0.1.0] - 2026-01-07\n\n# Commit the date change\ngit add CHANGELOG.md\ngit commit -m \"chore: set release date for v0.1.0\"\ngit push\n\n# Publish to npm\nnpm publish --access public\n\n# Tag the release\ngit tag v0.1.0\ngit push origin v0.1.0\n\n# Verify it worked\nnpm info raindrop-cli\nnpx raindrop-cli --version\n```\n\n## Post-Publish\n\n- [ ] Create GitHub release from v0.1.0 tag\n- [ ] Verify `npm install -g raindrop-cli` works\n- [ ] Verify `npx raindrop-cli --help` works\n- [ ] Celebrate! 🎉\n\n**Acceptance Criteria:**\n- [ ] Package published to npm as `raindrop-cli`\n- [ ] v0.1.0 git tag exists and pushed\n- [ ] `npm install -g raindrop-cli \u0026\u0026 rd --version` works\n- [ ] GitHub release created (optional but nice)","status":"open","priority":0,"issue_type":"gate","estimated_minutes":10,"created_at":"2026-01-07T08:38:00.712274843-08:00","created_by":"cc-vps","updated_at":"2026-01-07T08:38:00.712274843-08:00","dependencies":[{"issue_id":"rd-u22.12","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:38:00.715069764-08:00","created_by":"unknown"},{"issue_id":"rd-u22.12","depends_on_id":"rd-u22.11","type":"blocks","created_at":"2026-01-07T08:38:30.525228733-08:00","created_by":"unknown"}]}
{"id":"rd-u22.13","title":"Pin GitHub Actions to SHA commits","description":"Pin all actions in workflows to specific SHA commits instead of version tags for supply chain security.\n\n## Action SHAs (researched 2026-01-09)\n\n| Action | SHA | Version |\n|--------|-----|---------|\n| actions/checkout | 34e114876b0b11c390a56381ad16ebd13914f8d5 | v4.3.1 |\n| actions/github-script | f28e40c7f34bde8b3046d885e986cb6290c5673b | v7.1.0 |\n| oven-sh/setup-bun | b7a1c7ccf290d58743029c4f6903da283811b979 | v2.1.0 |\n\n## Example\n```yaml\n# Instead of:\nuses: actions/checkout@v4\n# Use:\nuses: actions/checkout@34e114876b0b11c390a56381ad16ebd13914f8d5  # v4.3.1\n```\n\nKeep version comment for maintainability and Dependabot compatibility.\n\n## Files to update\n- .github/workflows/ci.yml\n- .github/workflows/ci-live.yml\n\n## Why\nPrevents supply chain attacks where a tag could be moved to a malicious commit. SHAs are immutable.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:57:06.752524061-08:00","created_by":"cc-vps","updated_at":"2026-01-09T14:58:56.048480327-08:00","closed_at":"2026-01-09T14:58:56.048480327-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-u22.13","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-09T05:57:06.753946851-08:00","created_by":"unknown"}]}
{"id":"rd-u22.14","title":"Add secret scanning with gitleaks or GitGuardian","description":"Add automated secret scanning to CI to catch accidentally committed secrets (API keys, passwords, tokens).\n\nOptions:\n1. **gitleaks** (open source):\n```yaml\n- uses: gitleaks/gitleaks-action@v2\n  env:\n    GITHUB_TOKEN: ${{ secrets.GITHUB_TOKEN }}\n```\n\n2. **GitGuardian** (SaaS, more features):\n```yaml\n- uses: GitGuardian/ggshield-action@v1\n  env:\n    GITGUARDIAN_API_KEY: ${{ secrets.GITGUARDIAN_API_KEY }}\n```\n\nThis is complementary to runtime secret protection - it prevents YOUR secrets from being committed to the repo.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:57:14.207213537-08:00","created_by":"cc-vps","updated_at":"2026-01-09T14:58:56.05703235-08:00","closed_at":"2026-01-09T14:58:56.05703235-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-u22.14","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-09T05:57:14.213020896-08:00","created_by":"unknown"}]}
{"id":"rd-u22.15","title":"Add CODEOWNERS for .github/workflows/","description":"Add a CODEOWNERS file to require maintainer approval for workflow changes.\n\n```\n# .github/CODEOWNERS\n/.github/workflows/ @crcatala\n```\n\nThis ensures workflow changes require explicit approval before merge. Note: This doesn't prevent workflows from *running* on PRs, just from *merging* without review.\n\nCombined with GitHub's fork approval settings, this provides defense in depth for CI security.","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-09T05:57:21.227421073-08:00","created_by":"cc-vps","updated_at":"2026-01-09T14:58:56.064041865-08:00","closed_at":"2026-01-09T14:58:56.064041865-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-u22.15","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-09T05:57:21.232704176-08:00","created_by":"unknown"}]}
{"id":"rd-u22.2","title":"Package.json cleanup for npm publish","description":"Bundle of package.json fixes required for clean npm publish.\n\n**Context:** Current package.json has several issues:\n- Missing `files` field (would expose internal files like `.beads/`, `plans/`)\n- `postinstall: lefthook install` breaks npm consumers\n- Metadata points to `-spike` repo variant\n- Missing npx compatibility\n- Missing prepublishOnly safety script\n\n**Note:** Set URLs to final repo name (`raindrop-cli`) now. The repo does not exist yet but that is fine - these are metadata for npm, and we will create the public repo before publishing.\n\n## Changes Required\n\n### 1. Add files field (controls npm pack contents)\n```json\n\"files\": [\n  \"dist\",\n  \"README.md\",\n  \"LICENSE\"\n]\n```\n\n### 2. Remove postinstall hook, add prepare\n```json\n\"scripts\": {\n  \"prepare\": \"lefthook install || true\"\n}\n```\nRemove postinstall entirely.\n\n### 3. Update metadata to final repo name\n```json\n\"author\": \"Christian Catalan \u003ccrcatala@gmail.com\u003e\",\n\"repository\": {\n  \"type\": \"git\",\n  \"url\": \"git+https://github.com/crcatala/raindrop-cli.git\"\n},\n\"bugs\": {\n  \"url\": \"https://github.com/crcatala/raindrop-cli/issues\"\n},\n\"homepage\": \"https://github.com/crcatala/raindrop-cli#readme\"\n```\n\n### 4. Add npx compatibility\n```json\n\"bin\": {\n  \"rd\": \"dist/index.js\",\n  \"rdcli\": \"dist/index.js\",\n  \"raindrop-cli\": \"dist/index.js\"\n}\n```\n\n### 5. Add prepublishOnly script\n```json\n\"scripts\": {\n  \"prepublishOnly\": \"bun run verify \u0026\u0026 bun run build\"\n}\n```\n\n**Acceptance Criteria:**\n- [ ] `npm pack --dry-run` shows ONLY: dist/*, README.md, LICENSE, package.json\n- [ ] No postinstall hook\n- [ ] prepare script handles lefthook gracefully  \n- [ ] Author field populated\n- [ ] Repository URLs point to `raindrop-cli` (not `-spike`)\n- [ ] Three bin entries: rd, rdcli, raindrop-cli\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §2, §3, §5, §12, §13","status":"closed","priority":0,"issue_type":"chore","estimated_minutes":15,"created_at":"2026-01-07T07:59:29.55279599-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.97972688-08:00","closed_at":"2026-01-08T16:30:03.271068082-08:00","dependencies":[{"issue_id":"rd-u22.2","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T07:59:29.555051198-08:00","created_by":"unknown"}]}
{"id":"rd-u22.3","title":"Secure CI live tests workflow","description":"Harden or remove CI live tests workflow to prevent secret exfiltration.\n\n**Risk:** `.github/workflows/ci-live.yml` injects `RAINDROP_TOKEN` and can be triggered by PRs. A malicious PR could exfiltrate the token.\n\n## Options\n\n### Option A - Safest: Delete the workflow\n```bash\nrm .github/workflows/ci-live.yml\n```\n\n### Option B - Keep but harden\n```yaml\non:\n  pull_request:\n    types: [opened, synchronize]\n    \njobs:\n  live-tests:\n    # Skip for forks - prevents secret access from external PRs\n    if: github.event.pull_request.head.repo.full_name == github.repository\n    # ... rest of job\n```\n\nAlso consider: GitHub Environments with required reviewers.\n\n**Recommendation:** Option A is safest for initial OSS release. Can add hardened version later.\n\n**Acceptance Criteria:**\n- [ ] CI workflow cannot expose RAINDROP_TOKEN to untrusted PR code\n- [ ] Either workflow removed OR protected with fork check\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §4","status":"closed","priority":0,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-07T07:59:41.319165645-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.982324988-08:00","closed_at":"2026-01-08T16:31:57.59296701-08:00","labels":["security"],"dependencies":[{"issue_id":"rd-u22.3","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T07:59:41.32126726-08:00","created_by":"unknown"}]}
{"id":"rd-u22.4","title":"Dynamic version from package.json","description":"Stop hardcoding CLI version; read from package.json at runtime.\n\n**Problem:** `src/index.ts` line 20 has `.version(\"0.1.0\")` hardcoded. This causes version drift when package.json is updated but source is not.\n\n**Solution:**\n```typescript\n// src/index.ts\nimport { readFileSync } from \"fs\";\nimport { dirname, join } from \"path\";\nimport { fileURLToPath } from \"url\";\n\nconst __dirname = dirname(fileURLToPath(import.meta.url));\nconst pkg = JSON.parse(readFileSync(join(__dirname, \"../package.json\"), \"utf-8\"));\n\nprogram.version(pkg.version);\n```\n\n**Important:** After build, the `dist/` folder structure means `../package.json` resolves correctly from `dist/index.js`.\n\n**Alternative:** Inject at build time via tsup/esbuild define. This is more complex but avoids runtime file reads.\n\n**Acceptance Criteria:**\n- [ ] `rd --version` shows version from package.json\n- [ ] No hardcoded version strings in source (`grep -r \"0.1.0\" src/` finds nothing version-related)\n- [ ] Version updates only require changing package.json\n- [ ] Works both in dev (`bun src/index.ts --version`) and built (`node dist/index.js --version`)\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §6","status":"closed","priority":0,"issue_type":"task","estimated_minutes":10,"created_at":"2026-01-07T07:59:49.590322021-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.984762754-08:00","closed_at":"2026-01-08T16:34:42.185480384-08:00","dependencies":[{"issue_id":"rd-u22.4","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T07:59:49.592350872-08:00","created_by":"unknown"}]}
{"id":"rd-u22.5","title":"Fix TypeScript any usage","description":"Replace the single `any` usage with proper typing.\n\n**Location:** `src/commands/bookmarks.ts` line 356\n\n**Current code:**\n```typescript\n// Line 354-361\ntry {\n  await client.raindrop.removeRaindrop(id);\n} catch (error: any) {\n  // If it was already in trash, the first delete killed it.\n  // So the second delete returns 404. We strictly consider 404 here 'success' (it's gone).\n  if (error?.response?.status !== 404) {\n    throw error;\n  }\n}\n```\n\n**Fix:**\n```typescript\nimport { AxiosError } from \"axios\";\n\n// Then in the catch block:\n} catch (error: unknown) {\n  // If it was already in trash, the first delete killed it.\n  // So the second delete returns 404. We strictly consider 404 here 'success' (it's gone).\n  if (error instanceof AxiosError \u0026\u0026 error.response?.status !== 404) {\n    throw error;\n  }\n  // If not an AxiosError, re-throw\n  if (!(error instanceof AxiosError)) {\n    throw error;\n  }\n}\n```\n\n**Note:** `AxiosError` is already used elsewhere in the codebase (see `src/utils/axios-interceptors.test.ts`), so the import is safe and consistent.\n\n**Acceptance Criteria:**\n- [ ] No `any` types in codebase\n- [ ] `bun run typecheck` passes\n- [ ] `bun run test` passes (error handling behavior unchanged)\n- [ ] 404 errors during delete are still treated as success\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §9","status":"closed","priority":1,"issue_type":"chore","estimated_minutes":5,"created_at":"2026-01-07T08:00:22.674283164-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.9881157-08:00","closed_at":"2026-01-08T16:36:21.832808237-08:00","dependencies":[{"issue_id":"rd-u22.5","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:00:22.67626638-08:00","created_by":"unknown"}]}
{"id":"rd-u22.6","title":"Review and harden existing CI workflow","description":"Review and harden the existing GitHub Actions CI workflow.\n\n**Context:** A CI workflow already exists at `.github/workflows/ci.yml` with lint, typecheck, test, and format jobs. Review for improvements.\n\n**Issues to address:**\n1. Uses `bun-version: latest` - should pin to specific version (1.1.42) for reproducibility\n2. Uses `bun install` without `--frozen-lockfile` - should add for CI determinism\n3. Four separate jobs means 4x setup overhead - consider consolidating\n\n**Option A - Minimal fix (recommended for v0.1.0):**\n- Pin bun version\n- Add `--frozen-lockfile`\n\n**Option B - Full consolidation:**\n- Combine into single job running `bun run verify`\n- Reduces CI time and resource usage\n\n**Current workflow structure:**\n```yaml\njobs:\n  lint: ...\n  typecheck: ...\n  test: ...      # includes build and coverage\n  format: ...\n```\n\n**Acceptance Criteria:**\n- [ ] Bun version pinned (not `latest`)\n- [ ] `--frozen-lockfile` used in CI\n- [ ] CI passes on current main branch\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §11","status":"closed","priority":1,"issue_type":"task","estimated_minutes":10,"created_at":"2026-01-07T08:00:30.0685767-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.990657775-08:00","closed_at":"2026-01-08T16:38:02.252381513-08:00","dependencies":[{"issue_id":"rd-u22.6","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:00:30.071506455-08:00","created_by":"unknown"}]}
{"id":"rd-u22.7","title":"Update README for accuracy and completeness","description":"Update README to match actual CLI behavior and add missing sections.\n\n**Issues to fix (verified in codebase):**\n- Uses `rd raindrops ...` but CLI uses `rd bookmarks ...`\n- Missing documentation for root shortcuts\n- Missing installation section\n- Missing environment variables documentation\n\n**Note:** Use final repo name (`raindrop-cli`) in URLs and badges. The repo does not exist yet but will be created before publishing.\n\n## Required Changes\n\n### 1. Fix command examples\n**Current (wrong):**\n```bash\nrd raindrops list\nrd raindrops add https://example.com\nrd raindrops search \"typescript\"\n```\n\n**Correct:**\n```bash\nrd bookmarks list\nrd bookmarks add https://example.com\nrd bookmarks search \"typescript\"\n```\n\n### 2. Document root shortcuts\n```bash\nrd list                 # Shortcut for: rd bookmarks list\nrd search \"query\"       # Shortcut for: rd bookmarks search\nrd add \u003curl\u003e            # Shortcut for: rd bookmarks add\nrd show \u003cid\u003e            # Shortcut for: rd bookmarks show\n```\n\n### 3. Add installation section\n```markdown\n## Installation\n\n```bash\nnpm install -g raindrop-cli\n```\n\nOr use without installing:\n```bash\nnpx raindrop-cli --help\n```\n```\n\n### 4. Add badges (use final repo name)\n```markdown\n[![npm version](https://img.shields.io/npm/v/raindrop-cli)](https://npmjs.com/package/raindrop-cli)\n[![License: MIT](https://img.shields.io/badge/License-MIT-yellow.svg)](LICENSE)\n```\n\n### 5. Document environment variables\n| Variable | Description | Required |\n|----------|-------------|----------|\n| `RAINDROP_TOKEN` | API token from Raindrop.io | Yes |\n| `RDCLI_TIMEOUT` | Request timeout in seconds | No |\n| `RDCLI_API_DELAY_MS` | Delay between API calls | No |\n\n### 6. Add Requirements section\n- Node.js 20+\n\n### 7. Keep the `rd` vs `rdcli` alias note\nThe existing note about Windows/oh-my-zsh conflicts with `rd` is helpful - preserve it.\n\n**Acceptance Criteria:**\n- [ ] All `raindrops` references changed to `bookmarks`\n- [ ] Root shortcuts documented\n- [ ] Installation section with npm/npx instructions\n- [ ] Badges use `raindrop-cli` (final name)\n- [ ] Environment variables documented\n- [ ] Requirements section present\n- [ ] `rd`/`rdcli` alias note preserved\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §8","status":"closed","priority":1,"issue_type":"task","estimated_minutes":30,"created_at":"2026-01-07T08:00:40.298068547-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.993113783-08:00","closed_at":"2026-01-08T16:39:42.088715245-08:00","dependencies":[{"issue_id":"rd-u22.7","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:00:40.300236831-08:00","created_by":"unknown"},{"issue_id":"rd-u22.7","depends_on_id":"rd-u22.2","type":"blocks","created_at":"2026-01-07T08:00:40.303980121-08:00","created_by":"unknown"}]}
{"id":"rd-u22.8","title":"Add CONTRIBUTING.md","description":"Add contributor guidelines for the project.\n\n**Content:**\n```markdown\n# Contributing to raindrop-cli\n\n## Prerequisites\n\n- Node.js 20+\n- Bun (for development)\n\n## Setup\n\n\\`\\`\\`bash\ngit clone https://github.com/crcatala/raindrop-cli.git\ncd raindrop-cli\nbun install\n\\`\\`\\`\n\n## Development\n\n\\`\\`\\`bash\nbun run verify    # Run all checks (lint, typecheck, test, format)\nbun run build     # Build for production\nbun run dev       # Watch mode\n\\`\\`\\`\n\n## Running Live Tests\n\nLive tests require a Raindrop.io API token:\n\n\\`\\`\\`bash\nexport RAINDROP_TOKEN=your-test-token\nbun run test:live\n\\`\\`\\`\n\n**Note:** Use a dedicated test account, not your personal bookmarks.\n\n## Pull Request Process\n\n1. Fork the repo\n2. Create a feature branch\n3. Make your changes\n4. Run \\`bun run verify\\`\n5. Submit PR\n```\n\n**Acceptance Criteria:**\n- [ ] CONTRIBUTING.md exists at repo root\n- [ ] Documents prerequisites, setup, dev workflow\n- [ ] Documents PR process\n- [ ] References match README\n\n**Blocked by:** rd-u22.7 (README should be finalized first for consistency)\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §14","status":"closed","priority":1,"issue_type":"task","estimated_minutes":20,"created_at":"2026-01-07T08:00:48.66551881-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.99547377-08:00","closed_at":"2026-01-08T16:41:04.564846806-08:00","dependencies":[{"issue_id":"rd-u22.8","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:00:48.667377968-08:00","created_by":"unknown"},{"issue_id":"rd-u22.8","depends_on_id":"rd-u22.7","type":"blocks","created_at":"2026-01-07T08:00:48.67058619-08:00","created_by":"unknown"}]}
{"id":"rd-u22.9","title":"Add CHANGELOG.md","description":"Add changelog documenting the 0.1.0 release.\n\n**Note:** Can be worked on in parallel with other tasks. Only the release date needs to be filled in just before publish.\n\n**Content:**\n```markdown\n# Changelog\n\nAll notable changes to this project will be documented in this file.\n\nThe format is based on [Keep a Changelog](https://keepachangelog.com/).\n\n## [0.1.0] - 2026-01-XX\n\n### Added\n- Initial public release\n- Bookmark operations: `list`, `show`, `add`, `update`, `delete`\n- Batch operations: `batch-update`, `batch-delete`\n- Collection management: `list`, `show`, `add`, `delete`, `stats`\n- Tag operations: `list`, `rename`, `delete`\n- Highlights: `list`, `show`\n- Filters: `list`\n- Trash management: `list`, `empty`\n- Output formats: `json`, `table`, `tsv`, `plain`\n- Root shortcuts: `rd list`, `rd search`, `rd add`, `rd show`\n- Smart TTY detection for output format defaults\n- `--dry-run` support for destructive operations\n```\n\n**Acceptance Criteria:**\n- [ ] CHANGELOG.md exists at repo root\n- [ ] Follows Keep a Changelog format (link to spec included)\n- [ ] Documents all major features for 0.1.0\n- [ ] `XX` placeholder noted - fill in actual date just before publish\n\n**Reference:** plans/RELEASE-READINESS-v0.1.0.md §10","status":"closed","priority":1,"issue_type":"task","estimated_minutes":15,"created_at":"2026-01-07T08:01:00.149360143-08:00","created_by":"cc-vps","updated_at":"2026-01-09T06:36:40.998001433-08:00","closed_at":"2026-01-08T16:42:17.753365895-08:00","dependencies":[{"issue_id":"rd-u22.9","depends_on_id":"rd-u22","type":"parent-child","created_at":"2026-01-07T08:01:00.151426233-08:00","created_by":"unknown"}]}
{"id":"rd-u3p","title":"Ensure stdout/stderr separation","description":"Architectural: Ensure data output goes to stdout and errors/warnings go to stderr.\n\nPer clig.dev:\n- 'Send output to stdout' - primary output and machine-readable data\n- 'Send messaging to stderr' - log messages, errors, warnings\n\nThis enables proper piping (e.g., `rdcli raindrops list | jq` won't break from error messages).\n\nImplementation:\n- Audit all console.log() calls - data should use stdout\n- Audit all console.error() calls - errors/warnings should use stderr  \n- Update output() function to explicitly write to process.stdout\n- Ensure error handling writes to process.stderr\n\nShould be done BEFORE adding more commands to avoid tech debt.","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T13:52:52.782896378-08:00","created_by":"cc-vps","updated_at":"2026-01-02T18:23:02.782621875-08:00","closed_at":"2026-01-02T18:22:37.40590995-08:00"}
{"id":"rd-ua6","title":"Phase 2: Bookmark Commands (Core CRUD)","description":"Core CRUD operations for individual bookmarks: get, add, update, delete. Uses \"bookmarks\" subcommand for consistency with existing CLI.","status":"closed","priority":0,"issue_type":"epic","created_at":"2025-12-22T13:55:07.148747579-08:00","updated_at":"2026-01-04T05:20:41.506813136-08:00","closed_at":"2026-01-04T05:20:41.506813136-08:00","close_reason":"Closed","dependencies":[{"issue_id":"rd-ua6","depends_on_id":"rd-8oz","type":"blocks","created_at":"2025-12-22T13:57:01.373433085-08:00","created_by":"daemon"}]}
{"id":"rd-vst","title":"Add TTY detection for smart output defaults","description":"Detect TTY to provide better defaults for human vs script usage.\n\nPer clig.dev:\n- 'Human-readable output is paramount'\n- 'The most simple heuristic for whether output is being read by a human is whether or not it's a TTY'\n\nImplementation:\n- Use process.stdout.isTTY / process.stderr.isTTY\n- Default --format to 'table' when TTY, 'json' when piped\n- Disable animations/progress when not TTY\n- Create utility: isTTY(): boolean\n\nThis improves UX significantly:\n- `rdcli raindrops list` → nice table for humans\n- `rdcli raindrops list | jq` → JSON automatically","status":"closed","priority":0,"issue_type":"task","created_at":"2026-01-02T13:52:52.813004338-08:00","created_by":"cc-vps","updated_at":"2026-01-02T16:54:39.359027924-08:00","closed_at":"2026-01-02T16:54:39.359027924-08:00","close_reason":"Closed"}
{"id":"rd-vza","title":"Add typo suggestions for commands","description":"Per clig.dev: 'If the user did something wrong and you can guess what they meant, suggest it.'\n\nExample:\n```\n$ rdcli raindrop list\nUnknown command: raindrop\nDid you mean: raindrops?\n```\n\nImplementation:\n- Use Levenshtein distance or similar for fuzzy matching\n- Commander may have built-in support for this\n- Suggest closest match if distance \u003c threshold\n- Don't auto-execute - just suggest\n\nLower priority - nice to have for polish.","status":"closed","priority":3,"issue_type":"task","created_at":"2026-01-02T13:53:52.282744647-08:00","created_by":"cc-vps","updated_at":"2026-01-05T12:33:31.641582234-08:00","closed_at":"2026-01-05T11:55:08.086647489-08:00"}
{"id":"rd-wmz","title":"Improve search flag help with examples and documentation link","description":"Enhance the `--search` flag help text on `bookmarks list` to show examples of Raindrop's search query syntax and link to full documentation.\n\n## Current State\nThe `--search` flag has minimal help: \"Search query to filter bookmarks\"\n\n## Proposed Enhancement\n\nUpdate help text to show 2-3 common examples inline:\n```\n--search \u003cquery\u003e    Search query to filter bookmarks\n                    Examples:\n                      --search \"type:article\"      Filter by type\n                      --search \"#javascript\"       Filter by tag\n                      --search \"domain:github.com\" Filter by domain\n                    Full syntax: https://help.raindrop.io/using-search\n```\n\n## Decision: In-repo docs vs external link\n\n**Decision: Option 1 - Inline examples + external link**\n\n- Show 2-3 examples directly in `--search` help text\n- Link to https://help.raindrop.io/using-search for full syntax\n- Can add in-repo docs later if needed for offline access\n\nThis keeps the CLI self-contained for common cases while pointing power users to comprehensive documentation.\n\n## Related\n- rd-2q3: Add usage examples to help text (general examples task)\n- rd-y81: Add convenience filter flags (reduces need for raw search syntax)","status":"closed","priority":2,"issue_type":"task","created_at":"2026-01-03T18:07:56.282321514-08:00","created_by":"cc-vps","updated_at":"2026-01-03T19:37:15.91864431-08:00","closed_at":"2026-01-03T19:37:15.91864431-08:00","close_reason":"Implemented in PR #14 - added convenience filter flags and improved search help text","dependencies":[{"issue_id":"rd-wmz","depends_on_id":"rd-y81","type":"relates-to","created_at":"2026-01-03T18:08:58.140178179-08:00","created_by":"unknown"},{"issue_id":"rd-wmz","depends_on_id":"rd-2q3","type":"relates-to","created_at":"2026-01-03T18:08:58.161770331-08:00","created_by":"unknown"}]}
{"id":"rd-y81","title":"Add convenience filter flags to bookmark list command","description":"Enhance the existing `bookmarks list` command with convenience flags that map to Raindrop's search query syntax. This provides a better CLI UX than requiring users to know raw search syntax.\n\n## Proposed Flags\n\n### Type Filters\n```bash\nrdcli bookmarks list --type article    # type:article\nrdcli bookmarks list --type video      # type:video\nrdcli bookmarks list --type link       # type:link\nrdcli bookmarks list --type image      # type:image\nrdcli bookmarks list --type document   # type:document\nrdcli bookmarks list --type audio      # type:audio\n```\n\n### Metadata Filters\n```bash\nrdcli bookmarks list --with-notes      # Bookmarks with notes\nrdcli bookmarks list --with-highlights # Bookmarks with highlights\nrdcli bookmarks list --without-tags    # notag:true\nrdcli bookmarks list --favorites       # ❤️ (important flag)\nrdcli bookmarks list --has-reminder    # reminder:true\n```\n\n### Tag Filter\n```bash\nrdcli bookmarks list --tag javascript\nrdcli bookmarks list --tag \"machine learning\"\n```\n\n### Date Filters\n```bash\nrdcli bookmarks list --created 2025-01      # created:2025-01\nrdcli bookmarks list --created 2025-01-15   # created:2025-01-15\n```\n\n### Domain Filter\n```bash\nrdcli bookmarks list --domain github.com\n```\n\n## Implementation Notes\n\n- These flags build a search query string internally\n- Combine with existing `--search` for power users\n- Multiple flags should AND together (e.g., `--type article --tag javascript`)\n- The `--search` flag remains for raw query syntax\n\n## Relation to rd-0pc\n\nThis differs from rd-0pc (Search Raindrops Command) which proposes a separate `search` subcommand. This approach enhances the existing `list` command, which already has `--search`. Consider whether both approaches are needed or if this replaces rd-0pc.","status":"closed","priority":1,"issue_type":"feature","created_at":"2026-01-03T18:07:41.011342314-08:00","created_by":"cc-vps","updated_at":"2026-01-03T19:37:15.909532262-08:00","closed_at":"2026-01-03T19:37:15.909532262-08:00","close_reason":"Implemented in PR #14 - added convenience filter flags and improved search help text","dependencies":[{"issue_id":"rd-y81","depends_on_id":"rd-wmz","type":"relates-to","created_at":"2026-01-03T18:08:58.144222075-08:00","created_by":"unknown"}]}
